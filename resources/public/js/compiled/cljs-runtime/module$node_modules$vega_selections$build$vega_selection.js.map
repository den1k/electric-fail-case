{
"version":3,
"file":"module$node_modules$vega_selections$build$vega_selection.js",
"lineCount":16,
"mappings":"AAAAA,cAAA,CAAA,wDAAA,CAA6E,QAAQ,CAACC,eAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,gBAAvB,CAAgC,CACpH,SAAS,CAACH,MAAD,CAASI,OAAT,CAAkB,CACP,QAAnB,GAAA,MAAOD,iBAAP,EAAiD,WAAjD,GAA+B,MAAOD,OAAtC,CAA+DE,OAAA,CAAQD,gBAAR,CAAiBF,OAAA,CAAQ,+CAAR,CAAjB,CAAuCA,OAAA,CAAQ,2DAAR,CAAvC,CAA/D,CACkB,UAAlB,GAAA,MAAOI,OAAP,EAAgCA,MAAOC,CAAAA,GAAvC,CAA6CD,MAAA,CAAO,CAAC,SAAD,CAAY,WAAZ,CAAyB,iBAAzB,CAAP,CAAoDD,OAApD,CAA7C,EACCJ,MAAA,CAA+B,WAAtB,GAAA,MAAOO,WAAP;AAAoCA,UAApC,CAAiDP,MAAjD,EAA2DQ,IAApE,CAA0EJ,OAAA,CAAQJ,MAAOS,CAAAA,IAAf,CAAsB,EAAtB,CAA0BT,MAAOS,CAAAA,IAAjC,CAAuCT,MAAOS,CAAAA,IAA9C,CAD3E,CAF0B,CAA3B,CAAD,CAIG,IAJH,CAIU,QAAS,CAACN,OAAD,CAAUO,QAAV,CAAoBC,cAApB,CAAoC,CAErDC,QAASA,UAAS,CAACC,CAAD,CAAIC,CAAJ,CAAO,CACvB,MAAY,KAAL,EAAAD,CAAA,EAAkB,IAAlB,EAAaC,CAAb,CAAyBC,GAAzB,CAA+BF,CAAA,CAAIC,CAAJ,CAAQ,CAAC,CAAT,CAAaD,CAAA,CAAIC,CAAJ,CAAQ,CAAR,CAAYD,CAAA,EAAKC,CAAL,CAAS,CAAT,CAAaC,GADrD,CAmFzBC,QAASA,WAAU,CAAC,CAClBC,OADkB,CAElBC,IAFkB,CAAD,CAGhBC,KAHgB,CAGT,CACFC,IAAAA,CAAMF,IAAA,CAAKC,KAAL,CAEZ,OAAOF,QAAQI,CAAAA,GAAR,CAAYD,IAAZ,CAAA,CAAmBH,OAAQK,CAAAA,GAAR,CAAYF,IAAZ,CAAnB,CAAsCD,KAHrC,CAMVI,QAASA,WAAU,CAAC,CAClBN,OADkB,CAElBC,IAFkB,CAAD,CAGhBC,KAHgB,CAGT,CACFC,IAAAA,CAAMF,IAAA,CAAKC,KAAL,CAEZ,IAAIF,OAAQI,CAAAA,GAAR,CAAYD,IAAZ,CAAJ,CAAsB,MAAOH,QAAQK,CAAAA,GAAR,CAAYF,IAAZ,CAE7BH,QAAQO,CAAAA,GAAR,CAAYJ,IAAZ,CAAiBD,KAAjB,CAEA,OAAOA,MAPC,CAUVM,QAASA,cAAa,CAAC,CACrBR,OADqB,CAErBC,IAFqB,CAAD,CAGnBC,KAHmB,CAGZ,CACFC,IAAAA,CAAMF,IAAA,CAAKC,KAAL,CAERF;OAAQI,CAAAA,GAAR,CAAYD,IAAZ,CAAJ,GACED,KAEA,CAFQF,OAAQK,CAAAA,GAAR,CAAYF,IAAZ,CAER,CAAAH,OAAQS,CAAAA,MAAR,CAAeN,IAAf,CAHF,CAMA,OAAOD,MATC,CAYVQ,QAASA,MAAK,CAACR,KAAD,CAAQ,CACpB,MAAiB,KAAV,GAAAA,KAAA,EAAmC,QAAnC,GAAkB,MAAOA,MAAzB,CAA8CA,KAAMS,CAAAA,OAAN,EAA9C,CAAgET,KADnD,CAoBtBK,QAASA,aAAG,CAACK,MAAD,CAAS,CACnB,MAAOA,OAAA,WAAkBC,UAAlB,CAA8BD,MAA9B,CAAuC,IAAIC,SAAJ,CAAcD,MAAd,CAD3B,CAgCrBE,QAASA,UAAS,CAACC,KAAD,CAAQC,KAAR,CAAe,CAAA,IAC3BC,OAASD,KAAMC,CAAAA,MACfL,MAAAA,CAASI,KAAMJ,CAAAA,MAMnB,KAR+B,IAG3BM,EAAID,MAAOE,CAAAA,MAHgB,CAI3BC,EAAI,CAJuB,CAK3BC,IAL2B,CAM3BC,CAEJ,CAAOF,CAAP,CAAWF,CAAX,CAAc,EAAEE,CAAhB,CAQE,GAPAE,CAOI,CAPAL,MAAA,CAAOG,CAAP,CAOA,CANJE,CAAEC,CAAAA,MAME,CANO9B,QAAS+B,CAAAA,KAAMD,CAAAA,MAMtB,EANgC9B,QAAS+B,CAAAA,KAAT,CAAeF,CAAEE,CAAAA,KAAjB,CAMhC,CALJH,IAKI,CALGC,CAAEC,CAAAA,MAAF,CAASR,KAAT,CAKH,CAJAtB,QAASgC,CAAAA,MAAT,CAAgBJ,IAAhB,CAIA,GAJuBA,IAIvB;AAJ8B5B,QAASiC,CAAAA,QAAT,CAAkBL,IAAlB,CAI9B,EAHA5B,QAASgC,CAAAA,MAAT,CAAgBb,KAAA,CAAOQ,CAAP,CAAhB,CAGA,GAH4BR,KAAA,CAAOQ,CAAP,CAG5B,CAHwC3B,QAASiC,CAAAA,QAAT,CAAkBd,KAAA,CAAOQ,CAAP,CAAlB,CAGxC,EAFA3B,QAASgC,CAAAA,MAAT,CAAgBb,KAAA,CAAOQ,CAAP,CAAA,CAAU,CAAV,CAAhB,CAEA,GAF+BR,KAAA,CAAOQ,CAAP,CAE/B,CAF2CR,KAAA,CAAOQ,CAAP,CAAUO,CAAAA,GAAV,CAAclC,QAASiC,CAAAA,QAAvB,CAE3C,EAvBUE,GAuBV,GAAAN,CAAEO,CAAAA,IAAN,CAGE,IAAIpC,QAASqC,CAAAA,OAAT,CAAiBlB,KAAA,CAAOQ,CAAP,CAAjB,CAAA,CAAwD,CAAxD,CAA8BR,KAAA,CAAOQ,CAAP,CAAUW,CAAAA,OAAV,CAAkBV,IAAlB,CAA9B,CAA4DA,IAA5D,GAAqET,KAAA,CAAOQ,CAAP,CAAzE,CACE,MAAO,CAAA,CADT,CAHF,IAOE,IA7BiBY,GA6BjB,GAAIV,CAAEO,CAAAA,IAAN,CACE,IAAI,CAACpC,QAASwC,CAAAA,OAAT,CAAiBZ,IAAjB,CAAuBT,KAAA,CAAOQ,CAAP,CAAvB,CAAL,CAAwC,MAAO,CAAA,CAA/C,CADF,IAEO,IA5BSc,MA4BT,GAAIZ,CAAEO,CAAAA,IAAN,CAEL,IAAI,CAACpC,QAASwC,CAAAA,OAAT,CAAiBZ,IAAjB,CAAuBT,KAAA,CAAOQ,CAAP,CAAvB,CAAkC,CAAA,CAAlC,CAAwC,CAAA,CAAxC,CAAL,CAAqD,MAAO,CAAA,CAA5D,CAFK,IAGA,IAjCUe,KAiCV,GAAIb,CAAEO,CAAAA,IAAN,CAEL,IAAI,CAACpC,QAASwC,CAAAA,OAAT,CAAiBZ,IAAjB,CAAuBT,KAAA,CAAOQ,CAAP,CAAvB,CAAkC,CAAA,CAAlC,CAAyC,CAAA,CAAzC,CAAL,CAAsD,MAAO,CAAA,CAA7D,CAFK,IAGA,IAnCSgB,MAmCT,GAAId,CAAEO,CAAAA,IAAN;AACD,CAACpC,QAASwC,CAAAA,OAAT,CAAiBZ,IAAjB,CAAuBT,KAAA,CAAOQ,CAAP,CAAvB,CAAkC,CAAA,CAAlC,CAAyC,CAAA,CAAzC,CADA,CACgD,MAAO,CAAA,CAKlE,OAAO,CAAA,CArCwB,CArHjC,KAAMP,UAAN,QAAwBwB,IAAxB,CACEC,WAAW,CAAC1B,MAAD,CAAST,GAAA,CAAMO,KAAf,CAAsB,CAC/B,KAAA,EACA6B,OAAOC,CAAAA,gBAAP,CAAwB,IAAxB,CAA8B,CAC5BxC,QAAS,CACPE,MAAO,IAAIuC,GADJ,CADmB,CAI5BxC,KAAM,CACJC,MAAOC,GADH,CAJsB,CAA9B,CAQA,IAAc,IAAd,EAAIS,MAAJ,CAAoB,IAAK,MAAMV,KAAX,GAAoBU,OAApB,CAA4B,IAAK8B,CAAAA,GAAL,CAASxC,KAAT,CAVjB,CAajCE,GAAG,CAACF,KAAD,CAAQ,CACT,MAAO,MAAME,CAAAA,GAAN,CAAUL,UAAA,CAAW,IAAX,CAAiBG,KAAjB,CAAV,CADE,CAIXwC,GAAG,CAACxC,KAAD,CAAQ,CACT,MAAO,MAAMwC,CAAAA,GAAN,CAAUpC,UAAA,CAAW,IAAX,CAAiBJ,KAAjB,CAAV,CADE,CAIXO,MAAM,CAACP,KAAD,CAAQ,CACZ,MAAO,MAAMO,CAAAA,MAAN,CAAaD,aAAA,CAAc,IAAd,CAAoBN,KAApB,CAAb,CADK,CAtBhB,CA4GA,MAAMyC,aAAelD,QAAS+B,CAAAA,KAAT,CADDoB,SACC,CAArB,CAyGMC,OAxQNC,QAAiB,CAACxB,CAAD,CAAI,CAanByB,QAASA,KAAI,CAACnD,CAAD,CAAIoD,CAAJ;AAAOC,EAAA,CAAK,CAAZ,CAAeC,EAAA,CAAKtD,CAAEuB,CAAAA,MAAtB,CAA8B,CACzC,GAAI8B,EAAJ,CAASC,EAAT,CAAa,CACX,GAAuB,CAAvB,GAAIC,QAAA,CAASH,CAAT,CAAYA,CAAZ,CAAJ,CAA0B,MAAOE,GAEjC,GAAG,CACD,MAAME,IAAMH,EAANG,CAAWF,EAAXE,GAAkB,CACE,EAA1B,CAAIC,QAAA,CAASzD,CAAA,CAAEwD,GAAF,CAAT,CAAiBJ,CAAjB,CAAJ,CAA6BC,EAA7B,CAAkCG,GAAlC,CAAwC,CAAxC,CAA+CF,EAA/C,CAAoDE,GAFnD,CAAH,MAGSH,EAHT,CAGcC,EAHd,CAHW,CASb,MAAOD,GAVkC,CAZ3C,IAAIK,MAAQhC,CAAZ,CACI6B,SAAW7B,CADf,CAEI+B,SAAW/B,CAEE,EAAjB,GAAIA,CAAEH,CAAAA,MAAN,GACEmC,KAIA,CAJQ,CAACC,CAAD,CAAIP,CAAJ,CAAAM,EAAUhC,CAAA,CAAEiC,CAAF,CAAVD,CAAiBN,CAIzB,CAFAG,QAEA,CAFWxD,SAEX,CAAA0D,QAAA,CAAW,CAACE,CAAD,CAAIP,CAAJ,CAAAK,EAAU1D,SAAA,CAAU2B,CAAA,CAAEiC,CAAF,CAAV,CAAgBP,CAAhB,CALvB,CAuCA,OAAO,CACLD,IADK,CAELS,OAPFA,QAAe,CAAC5D,CAAD,CAAIoD,CAAJ,CAAOC,EAAA,CAAK,CAAZ,CAAeC,EAAA,CAAKtD,CAAEuB,CAAAA,MAAtB,CAA8B,CACrCC,EAAAA,CAAI2B,IAAA,CAAKnD,CAAL,CAAQoD,CAAR,CAAWC,EAAX,CAAeC,EAAf,CAAoB,CAApB,CACV,OAAO9B,GAAA,CAAI6B,EAAJ,EAAUK,KAAA,CAAM1D,CAAA,CAAEwB,EAAF,CAAM,CAAN,CAAN,CAAgB4B,CAAhB,CAAV,CAA+B,CAACM,KAAA,CAAM1D,CAAA,CAAEwB,EAAF,CAAN,CAAY4B,CAAZ,CAAhC,CAAiD5B,EAAjD,CAAqD,CAArD,CAAyDA,EAFrB,CAKtC,CAGLqC,MArBFA,QAAc,CAAC7D,CAAD,CAAIoD,CAAJ,CAAOC,EAAA,CAAK,CAAZ,CAAeC,EAAA,CAAKtD,CAAEuB,CAAAA,MAAtB,CAA8B,CAC1C,GAAI8B,EAAJ,CAASC,EAAT,CAAa,CACX,GAAuB,CAAvB,GAAIC,QAAA,CAASH,CAAT,CAAYA,CAAZ,CAAJ,CAA0B,MAAOE,GAEjC,GAAG,CACD,MAAME,IAAMH,EAANG,CAAWF,EAAXE,GAAkB,CACG,EAA3B,EAAIC,QAAA,CAASzD,CAAA,CAAEwD,GAAF,CAAT;AAAiBJ,CAAjB,CAAJ,CAA8BC,EAA9B,CAAmCG,GAAnC,CAAyC,CAAzC,CAAgDF,EAAhD,CAAqDE,GAFpD,CAAH,MAGSH,EAHT,CAGcC,EAHd,CAHW,CASb,MAAOD,GAVmC,CAkBrC,CA5CY,CAwQN,CAASN,YAAT,CAzGf,CA0GMe,WAAab,MAAOE,CAAAA,IA1G1B,CA2GMY,YAAcd,MAAOY,CAAAA,KA4I3B,KAAIG,IAAM,CACR,cA3QFC,QAAc,CAAC,GAAGC,MAAJ,CAAY,CACxB,MAAMvD,IAAM,IAAIM,SAEhB,KAAK,MAAMkD,KAAX,GAAoBD,OAApB,CACE,IAAK,MAAME,CAAX,GAAgBD,MAAhB,CACExD,GAAImC,CAAAA,GAAJ,CAAQsB,CAAR,CAIJ,OAAOzD,IATiB,CA0QhB,CAER,kBAhSF0D,QAAqB,CAACrD,MAAD,CAAS,GAAGkD,MAAZ,CAAoB,CACvClD,MAAA,CAAS,IAAIC,SAAJ,CAAcD,MAAd,CACTkD,OAAA,CAASA,MAAOnC,CAAAA,GAAP,CAAWpB,YAAX,CAET,EAAA,CAAK,IAAK,MAAML,KAAX,GAAoBU,OAApB,CACH,IAAK,MAAMmD,KAAX,GAAoBD,OAApB,CACE,GAAI,CAACC,KAAM3D,CAAAA,GAAN,CAAUF,KAAV,CAAL,CAAuB,CACrBU,MAAOH,CAAAA,MAAP,CAAcP,KAAd,CACA,UAAS,CAFY,CAO3B,MAAOU,OAbgC,CA8R/B,CAGRsD,QAASA,QAAS,CAACC,IAAD,CAAOjE,KAAP,CAAc,CAC9B,GAAI,CAACiE,IAAKhD,CAAAA,MAAV,CAAkB,MAAOjB,MAIzB;IAL8B,IAE1BkB,EAAI,CAFsB,CAG1BF,EAAIhB,KAAMiB,CAAAA,MAEd,CAAOC,CAAP,CAAWF,CAAX,CAAc,EAAEE,CAAhB,CAAgD,CAA7B,CAAI+C,IAAKpC,CAAAA,OAAL,CAAa7B,KAAA,CAAMkB,CAAN,CAAb,CAAJ,EAAgC+C,IAAKC,CAAAA,IAAL,CAAUlE,KAAA,CAAMkB,CAAN,CAAV,CAEnD,OAAO+C,KAPuB,CAHxB,CAYRE,YAAaA,QAAS,CAACF,IAAD,CAAOjE,KAAP,CAAc,CAClC,MAAQiE,KAAKhD,CAAAA,MAAN,CAAuBgD,IAAKG,CAAAA,MAAL,CAAYC,CAAA,EAAyB,CAAzB,EAAKrE,KAAM6B,CAAAA,OAAN,CAAcwC,CAAd,CAAjB,CAAvB,CAAerE,KADY,CAZ5B,CAeRsE,QAASA,QAAS,CAACL,IAAD,CAAOjE,KAAP,CAAc,CAAA,IAC1B+C,GAAKxD,QAASiC,CAAAA,QAAT,CAAkBxB,KAAA,CAAM,CAAN,CAAlB,CADqB,CAE1BgD,GAAKzD,QAASiC,CAAAA,QAAT,CAAkBxB,KAAA,CAAM,CAAN,CAAlB,CAEL+C,GAAJ,CAASC,EAAT,GACED,EACA,CADK/C,KAAA,CAAM,CAAN,CACL,CAAAgD,EAAA,CAAKhD,KAAA,CAAM,CAAN,CAFP,CAKA,IAAI,CAACiE,IAAKhD,CAAAA,MAAV,CAAkB,MAAO,CAAC8B,EAAD,CAAKC,EAAL,CACrBiB,KAAA,CAAK,CAAL,CAAJ,CAAclB,EAAd,GAAkBkB,IAAA,CAAK,CAAL,CAAlB,CAA4BlB,EAA5B,CACIkB,KAAA,CAAK,CAAL,CAAJ,CAAcjB,EAAd,GAAkBiB,IAAA,CAAK,CAAL,CAAlB,CAA4BjB,EAA5B,CACA,OAAOiB,KAZuB,CAfxB,CA6BRM,YAAaA,QAAS,CAACN,IAAD,CAAOjE,KAAP,CAAc,CAAA,IAC9B+C,GAAKxD,QAASiC,CAAAA,QAAT,CAAkBxB,KAAA,CAAM,CAAN,CAAlB,CADyB,CAE9BgD,GAAKzD,QAASiC,CAAAA,QAAT,CAAkBxB,KAAA,CAAM,CAAN,CAAlB,CAEL+C;EAAJ,CAASC,EAAT,GACED,EACA,CADK/C,KAAA,CAAM,CAAN,CACL,CAAAgD,EAAA,CAAKhD,KAAA,CAAM,CAAN,CAFP,CAKA,IAAI,CAACiE,IAAKhD,CAAAA,MAAV,CAAkB,MAAO,CAAC8B,EAAD,CAAKC,EAAL,CAEzB,IAAIA,EAAJ,CAASiB,IAAA,CAAK,CAAL,CAAT,EAAoBA,IAAA,CAAK,CAAL,CAApB,CAA8BlB,EAA9B,CACE,MAAO,EAEHkB,KAAA,CAAK,CAAL,CAAJ,CAAclB,EAAd,GAAkBkB,IAAA,CAAK,CAAL,CAAlB,CAA4BlB,EAA5B,CACIkB,KAAA,CAAK,CAAL,CAAJ,CAAcjB,EAAd,GAAkBiB,IAAA,CAAK,CAAL,CAAlB,CAA4BjB,EAA5B,CAGF,OAAOiB,KAlB2B,CA7B5B,CAuEVjF,QAAQwF,CAAAA,eAAR,CAlNAA,QAAwB,CAACC,IAAD,CAAO5D,KAAP,CAAc6D,EAAd,CAAkB,CAAA,IAClCC,KAAO,IAAKC,CAAAA,OAAQD,CAAAA,IAAb,CAAkBF,IAAlB,CACPI,KAAAA,CAAUF,IAAA,CAAOA,IAAKjE,CAAAA,MAAOV,CAAAA,KAAnB,CAA2B,EACrC8E,KAAAA,CAAUH,IAAA,CAAOA,IAAA,CAxGNI,YAwGM,CAAP,EAA2BJ,IAAA,CAxG1BI,YAwG0B,CAAiB/E,CAAAA,KAA5C,CAAoDgF,IAAAA,EAC9DC,GAAAA,CAvHUC,WAuHVD,GAAYP,EACZ1E,MAAAA,CAAQyC,YAAA,CAAa5B,KAAb,CAJd,OAKMsE,MAAQ3B,UAAA,CAAWqB,IAAX,CAAoB7E,KAApB,CAEd,IADImF,KACJ,GADcN,IAAQ5D,CAAAA,MACtB,EAAIwB,YAAA,CAAaoC,IAAA,CAAQM,KAAR,CAAb,CAAJ,GAAqCnF,KAArC,CAA4C,MAAO,CAAA,CAEnD,IAAI8E,IAAJ,EAAeG,EAAf,CAA0B,CACxB,GAAqB,CAArB;AAAIH,IAAQM,CAAAA,IAAZ,CAAwB,MAAO,CAAA,CAC/B,IAAI3B,WAAA,CAAYoB,IAAZ,CAAqB7E,KAArB,CAAJ,CAAkCmF,KAAlC,CAA0CL,IAAQM,CAAAA,IAAlD,CAAwD,MAAO,CAAA,CAFvC,CAK1B,MAAO,CAAA,CAfiC,CAmN1CpG,QAAQqG,CAAAA,gBAAR,CAnKAA,QAAyB,CAACZ,IAAD,CAAOC,EAAP,CAAWY,OAAX,CAAoBC,GAApB,CAAyB,CAE5CV,IAAAA,CAAU,CADVF,IACU,CADH,IAAKC,CAAAA,OAAQD,CAAAA,IAAb,CAAkBF,IAAlB,CACG,EAAOE,IAAKjE,CAAAA,MAAOV,CAAAA,KAAnB,CAA2B,EAmBzC,KArBgD,IAG5CwF,SAAW,EAHiC,CAI5CC,SAAW,EAJiC,CAK5CC,MAAQ,EALoC,CAM5C5E,KAN4C,CAO5CC,MAP4C,CAQ5CL,MAR4C,CAS5CiF,aAT4C,CAU5CrE,cAV4C,CAa5CsE,OAb4C,CAgB5C5E,EAAI6D,IAAQ5D,CAAAA,MAhBgC,CAiB5CC,EAAI,CAjBwC,CAkB5C2E,UAlB4C,CAmB5CC,CAEJ,CAAO5E,CAAP,CAAWF,CAAX,CAAc,EAAEE,CAAhB,CAME,GALAJ,KAKI,CALI+D,IAAA,CAAQ3D,CAAR,CAKJ,CAJJyE,aAII,CAJG7E,KAAM6E,CAAAA,IAIT,CAHJ5E,MAGI,CAHKD,KAAMC,CAAAA,MAGX,CAFJL,MAEI,CAFKI,KAAMJ,CAAAA,MAEX,CAAAK,MAAA,EAAUL,MAAd,CAAsB,CAEfmF,UAAA,CAAI,CAAT,KAAYC,CAAZ,CAAgB/E,MAAOE,CAAAA,MAAvB,CAA+B4E,UAA/B,CAAmCC,CAAnC,CAAsC,EAAED,UAAxC,CACEvE,cAKA;AALQP,MAAA,CAAO8E,UAAP,CAKR,CAJAE,KAIA,CAJMP,QAAA,CAASlE,cAAMA,CAAAA,KAAf,CAIN,GAJgCkE,QAAA,CAASlE,cAAMA,CAAAA,KAAf,CAIhC,CAJwD,EAIxD,EAHAsE,OAGA,CAHUG,KAAA,CAAIJ,aAAJ,CAGV,GAHwBI,KAAA,CAAIJ,aAAJ,CAGxB,CAHoC,EAGpC,EAFAD,KAAA,CAAMpE,cAAMA,CAAAA,KAAZ,CAEA,CAFqBK,cAErB,CAF4BL,cAAMK,CAAAA,IAAKqE,CAAAA,MAAX,CAAkB,CAAlB,CAE5B,CADArC,cACA,CADQD,GAAA,CAAK,GAAE/B,cAAF,QAAL,CACR,CAAAoE,KAAA,CAAIJ,aAAJ,CAAA,CAAYhC,cAAA,CAAMiC,OAAN,CAAerG,QAAS0G,CAAAA,KAAT,CAAevF,MAAA,CAAOmF,UAAP,CAAf,CAAf,CASVP,QAAJ,GACEM,OACA,CADUH,QAAA,CAASE,aAAT,CACV,GAD6BF,QAAA,CAASE,aAAT,CAC7B,CAD8C,EAC9C,EAAAC,OAAQ1B,CAAAA,IAAR,CAAa3E,QAAS0G,CAAAA,KAAT,CAAevF,MAAf,CAAuBwF,CAAAA,MAAvB,CAA8B,CAACC,GAAD,CAAMC,IAAN,CAAYP,CAAZ,CAAA,GAAmBM,GAAA,CAAIpF,MAAA,CAAO8E,CAAP,CAAUvE,CAAAA,KAAd,CAAA,CAAuB8E,IAAvB;AAA6BD,GAAhD,CAA9B,CAAoF,EAApF,CAAb,CAFF,CAjBoB,CAAtB,IAuBE7E,eAMA,CArNcoB,SAqNd,CALA1C,MAKA,CALQyC,YAAA,CAAa3B,KAAb,CAKR,CAJAiF,KAIA,CAJMP,QAAA,CAASlE,cAAT,CAIN,GAJ0BkE,QAAA,CAASlE,cAAT,CAI1B,CAJ4C,EAI5C,EAHAsE,OAGA,CAHUG,KAAA,CAAIJ,aAAJ,CAGV,GAHwBI,KAAA,CAAIJ,aAAJ,CAGxB,CAHoC,EAGpC,EAFAC,OAAQ1B,CAAAA,IAAR,CAAalE,MAAb,CAEA,CAAIsF,OAAJ,GACEM,OACA,CADUH,QAAA,CAASE,aAAT,CACV,GAD6BF,QAAA,CAASE,aAAT,CAC7B,CAD8C,EAC9C,EAAAC,OAAQ1B,CAAAA,IAAR,CAAa,CACX,QAAelE,MADJ,CAAb,CAFF,CAUJ0E,GAAA,CAAKA,EAAL,EApOY2B,OAsORb,SAAA,CAAA,OAAJ,CACEA,QAAA,CAAA,OADF,CAC0B9B,GAAA,CAAK,GAlObhB,SAkOa,IAAiBgC,EAAjB,EAAL,CAAA,CAA4B,GAAGrC,MAAO3B,CAAAA,MAAP,CAAc8E,QAAA,CAAA,OAAd,CAA/B,CAD1B,CAGEnD,MAAOiE,CAAAA,IAAP,CAAYd,QAAZ,CAAsBe,CAAAA,OAAtB,CAA8BjF,KAAA,EAAS,CACrCkE,QAAA,CAASlE,KAAT,CAAA,CAAkBe,MAAOiE,CAAAA,IAAP,CAAYd,QAAA,CAASlE,KAAT,CAAZ,CAA6BG,CAAAA,GAA7B,CAAiCkE,IAAA;AAAQH,QAAA,CAASlE,KAAT,CAAA,CAAgBqE,IAAhB,CAAzC,CAAgEO,CAAAA,MAAhE,CAAuE,CAACM,GAAD,CAAMJ,IAAN,CAAA,EAAuBpB,IAAAA,EAAR,GAAAwB,GAAA,CAAoBJ,IAApB,CAA2B1C,GAAA,CAAK,GAAEgC,KAAA,CAAMpE,KAAN,CAAF,IAAkBoD,EAAlB,EAAL,CAAA,CAA6B8B,GAA7B,CAAkCJ,IAAlC,CAAjH,CADmB,CAAvC,CAKFvB,KAAA,CAAUxC,MAAOiE,CAAAA,IAAP,CAAYb,QAAZ,CAENH,QAAJ,EAAeT,IAAQ5D,CAAAA,MAAvB,GAEEuE,QAAA,CADYD,GAAAtF,CA/OAwG,SA+OAxG,CAhPAyG,SAiPZ,CAFF,CAhPYL,OAkPM,GAAA3B,EAAA,CAAe,CAC7B,GAAMG,IAAQqB,CAAAA,MAAR,CAAe,CAACM,GAAD,CAAMG,CAAN,CAAA,GAAaH,GAAItC,CAAAA,IAAJ,CAAS,GAAGuB,QAAA,CAASkB,CAAT,CAAZ,CAAA,CAA0BH,GAAvC,CAAf,CAA4D,EAA5D,CADuB,CAAf,CAEZ,CACF,IAAO3B,IAAQpD,CAAAA,GAAR,CAAYkF,CAAA,EAAM,EACvB,GAAMlB,QAAA,CAASkB,CAAT,CADiB,EAAlB,CADL,CAJN,CAWA,OAAOnB,SAzFyC,CAoKlDxG,QAAQ4H,CAAAA,aAAR,CAhQAA,QAAsB,CAACnC,IAAD,CAAO5D,KAAP,CAAc6D,EAAd,CAAkB,CAAA,IAClCC,KAAO,IAAKC,CAAAA,OAAQD,CAAAA,IAAb,CAAkBF,IAAlB,CACPI,KAAAA,CAAUF,IAAA,CAAOA,IAAKjE,CAAAA,MAAOV,CAAAA,KAAnB,CAA2B,EACrC8E,KAAAA,CAAUH,IAAA,CAAOA,IAAA,CA5DJI,YA4DI,CAAP,EAA2BJ,IAAA,CA5DxBI,YA4DwB,CAAiB/E,CAAAA,KAA5C,CAAoDgF,IAAAA,EAC9DC,GAAAA,CA3EYC,WA2EZD;AAAYP,EAShB,KAbsC,IAKlC1D,EAAI6D,IAAQ5D,CAAAA,MALsB,CAMlCC,EAAI,CAN8B,CAOlCJ,KAPkC,CAQlC+F,IARkC,CASlCC,KATkC,CAUlCnB,IAGJ,CAAOzE,CAAP,CAAWF,CAAX,CAAc,EAAEE,CAAhB,CAGE,GAFAJ,KAEI,CAFI+D,IAAA,CAAQ3D,CAAR,CAEJ,CAAA4D,IAAA,EAAWG,EAAf,CAKE,IAHA4B,IAGI,CAHGA,IAGH,EAHW,EAGX,CAFJC,KAEI,CAFID,IAAA,CAAKlB,IAAL,CAAY7E,KAAM6E,CAAAA,IAAlB,CAEJ,EAF+B,CAE/B,CAAU,CAAC,CAAX,GAAAmB,KAAJ,CAAA,CACAnH,KAAA,CAAIiB,SAAA,CAAUC,KAAV,CAAiBC,KAAjB,CACJ+F,KAAA,CAAKlB,IAAL,CAAA,CAAahG,KAAA,CAAI,CAAC,CAAL,CAAS,EAAEmH,KAGxB,IAAInH,KAAJ,EAA0B,CAA1B,GAASmF,IAAQM,CAAAA,IAAjB,CAA6B,MAAO,CAAA,CACpC,IAAI,CAACzF,KAAL,EAAUmH,KAAV,GAAoBhC,IAAQ3E,CAAAA,GAAR,CAAYwF,IAAZ,CAAkBmB,CAAAA,KAAtC,CAA6C,MAAO,CAAA,CANpD,CAAA,CALF,IAgBE,IAHAnH,KAGI,CAHAiB,SAAA,CAAUC,KAAV,CAAiBC,KAAjB,CAGA,CAAAmE,EAAA,CAAYtF,KAAhB,CAAmB,MAAOA,MAO9B,OAAOqB,EAAP,EAAYiE,EAvC0B,CAiQxCjG,QAAQ+H,CAAAA,eAAR,CA3LAA,QAAwB,CAACd,KAAD,CAAQhC,IAAR,CAAc,CACpC,MAAOgC,MAAMxE,CAAAA,GAAN,CAAUqB,CAAA,EAAKvD,QAASyH,CAAAA,MAAT,CAAgB/C,IAAKlD,CAAAA,MAAL,CAAc,CAClDL,OAAQuD,IAAKlD,CAAAA,MAAOU,CAAAA,GAAZ,CAAgBL,CAAA,EAAK,CAACA,CAAEC,CAAAA,MAAH,GAAcD,CAAEC,CAAAA,MAAhB,CAAyB9B,QAAS+B,CAAAA,KAAT,CAAeF,CAAEE,CAAAA,KAAjB,CAAzB,GAAmDwB,CAAEjC,CAAAA,KAArD,CAArB,CAD0C,CAAd;AAElC,CACF,QAAe4B,YAAA,CAAaK,CAAEjC,CAAAA,KAAf,CADb,CAFkB,CAInBoD,IAJmB,CAAf,CAD6B,CA4LtCjF,QAAQiI,CAAAA,gBAAR,CAtBAA,QAAyB,CAACxC,IAAD,CAAOyC,IAAP,CAAaC,KAAb,CAAoBC,MAApB,CAA4B,CAC/CF,IAAA,CAAK,CAAL,CAAQvF,CAAAA,IAAZ,GAAqBnC,cAAe6H,CAAAA,OAApC,EAA6C9H,QAAS+H,CAAAA,KAAT,CAAe,iEAAf,CACvC3C,KAAAA,CAAOuC,IAAA,CAAK,CAAL,CAAQlH,CAAAA,KACf0E,KAAAA,CAAoB,CAApBA,EAAKwC,IAAKjG,CAAAA,MAAVyD,EAAyBnF,QAASgI,CAAAA,IAAT,CAAcL,IAAd,CAAoBlH,CAAAA,KADnD,OAIMwH,SARWC,GAQXD,CAAwB7C,IAzTdO,YA2ThB,GAAIR,IAAJ,EAAyBnF,QAASmI,CAAAA,cAAT,CAAwBN,MAAxB,CAHPO,OAGO,CAAzB,GACEP,MAAA,CAJgBO,OAIhB,CADF,CACsBR,KAAMS,CAAAA,OAAN,CAAcjD,IAAd,CAAoBkD,CAAAA,SAApB,CAA8BV,KAA9B,CALR7F,MAKQ,CADtB,CAKK/B,SAASmI,CAAAA,cAAT,CAAwBN,MAAxB,CAAgCI,QAAhC,CAAL,GACEJ,MAAA,CAAOI,QAAP,CADF,CACqBL,KAAMS,CAAAA,OAAN,CAAcjD,IAAd,CAAoBmD,CAAAA,SAApB,EADrB,CAbmD,CAwBrDzF;MAAO0F,CAAAA,cAAP,CAAsB/I,OAAtB,CAA+B,YAA/B,CAA6C,CAAEgB,MAAO,CAAA,CAAT,CAA7C,CAzeqD,CAJvD,CADqH;",
"sources":["node_modules/vega-selections/build/vega-selection.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_selections$build$vega_selection\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-util'), require('vega-expression')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-util', 'vega-expression'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}, global.vega, global.vega));\n})(this, (function (exports, vegaUtil, vegaExpression) { 'use strict';\n\n  function ascending(a, b) {\n    return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function bisector(f) {\n    let delta = f;\n    let compare1 = f;\n    let compare2 = f;\n\n    if (f.length !== 2) {\n      delta = (d, x) => f(d) - x;\n\n      compare1 = ascending;\n\n      compare2 = (d, x) => ascending(f(d), x);\n    }\n\n    function left(a, x, lo = 0, hi = a.length) {\n      if (lo < hi) {\n        if (compare1(x, x) !== 0) return hi;\n\n        do {\n          const mid = lo + hi >>> 1;\n          if (compare2(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n        } while (lo < hi);\n      }\n\n      return lo;\n    }\n\n    function right(a, x, lo = 0, hi = a.length) {\n      if (lo < hi) {\n        if (compare1(x, x) !== 0) return hi;\n\n        do {\n          const mid = lo + hi >>> 1;\n          if (compare2(a[mid], x) <= 0) lo = mid + 1;else hi = mid;\n        } while (lo < hi);\n      }\n\n      return lo;\n    }\n\n    function center(a, x, lo = 0, hi = a.length) {\n      const i = left(a, x, lo, hi - 1);\n      return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n    }\n\n    return {\n      left,\n      center,\n      right\n    };\n  }\n\n  class InternSet extends Set {\n    constructor(values, key = keyof) {\n      super();\n      Object.defineProperties(this, {\n        _intern: {\n          value: new Map()\n        },\n        _key: {\n          value: key\n        }\n      });\n      if (values != null) for (const value of values) this.add(value);\n    }\n\n    has(value) {\n      return super.has(intern_get(this, value));\n    }\n\n    add(value) {\n      return super.add(intern_set(this, value));\n    }\n\n    delete(value) {\n      return super.delete(intern_delete(this, value));\n    }\n\n  }\n\n  function intern_get({\n    _intern,\n    _key\n  }, value) {\n    const key = _key(value);\n\n    return _intern.has(key) ? _intern.get(key) : value;\n  }\n\n  function intern_set({\n    _intern,\n    _key\n  }, value) {\n    const key = _key(value);\n\n    if (_intern.has(key)) return _intern.get(key);\n\n    _intern.set(key, value);\n\n    return value;\n  }\n\n  function intern_delete({\n    _intern,\n    _key\n  }, value) {\n    const key = _key(value);\n\n    if (_intern.has(key)) {\n      value = _intern.get(key);\n\n      _intern.delete(key);\n    }\n\n    return value;\n  }\n\n  function keyof(value) {\n    return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n  }\n\n  function intersection(values, ...others) {\n    values = new InternSet(values);\n    others = others.map(set);\n\n    out: for (const value of values) {\n      for (const other of others) {\n        if (!other.has(value)) {\n          values.delete(value);\n          continue out;\n        }\n      }\n    }\n\n    return values;\n  }\n\n  function set(values) {\n    return values instanceof InternSet ? values : new InternSet(values);\n  }\n\n  function union(...others) {\n    const set = new InternSet();\n\n    for (const other of others) {\n      for (const o of other) {\n        set.add(o);\n      }\n    }\n\n    return set;\n  }\n\n  const Intersect = 'intersect';\n  const Union = 'union';\n  const VlMulti = 'vlMulti';\n  const VlPoint = 'vlPoint';\n  const Or = 'or';\n  const And = 'and';\n  const SelectionId = '_vgsid_';\n  const $selectionId = vegaUtil.field(SelectionId);\n\n  const TYPE_ENUM = 'E',\n        TYPE_RANGE_INC = 'R',\n        TYPE_RANGE_EXC = 'R-E',\n        TYPE_RANGE_LE = 'R-LE',\n        TYPE_RANGE_RE = 'R-RE',\n        UNIT_INDEX = 'index:unit'; // TODO: revisit date coercion?\n\n  function testPoint(datum, entry) {\n    var fields = entry.fields,\n        values = entry.values,\n        n = fields.length,\n        i = 0,\n        dval,\n        f;\n\n    for (; i < n; ++i) {\n      f = fields[i];\n      f.getter = vegaUtil.field.getter || vegaUtil.field(f.field);\n      dval = f.getter(datum);\n      if (vegaUtil.isDate(dval)) dval = vegaUtil.toNumber(dval);\n      if (vegaUtil.isDate(values[i])) values[i] = vegaUtil.toNumber(values[i]);\n      if (vegaUtil.isDate(values[i][0])) values[i] = values[i].map(vegaUtil.toNumber);\n\n      if (f.type === TYPE_ENUM) {\n        // Enumerated fields can either specify individual values (single/multi selections)\n        // or an array of values (interval selections).\n        if (vegaUtil.isArray(values[i]) ? values[i].indexOf(dval) < 0 : dval !== values[i]) {\n          return false;\n        }\n      } else {\n        if (f.type === TYPE_RANGE_INC) {\n          if (!vegaUtil.inrange(dval, values[i])) return false;\n        } else if (f.type === TYPE_RANGE_RE) {\n          // Discrete selection of bins test within the range [bin_start, bin_end).\n          if (!vegaUtil.inrange(dval, values[i], true, false)) return false;\n        } else if (f.type === TYPE_RANGE_EXC) {\n          // 'R-E'/'R-LE' included for completeness.\n          if (!vegaUtil.inrange(dval, values[i], false, false)) return false;\n        } else if (f.type === TYPE_RANGE_LE) {\n          if (!vegaUtil.inrange(dval, values[i], false, true)) return false;\n        }\n      }\n    }\n\n    return true;\n  }\n  /**\n   * Tests if a tuple is contained within an interactive selection.\n   * @param {string} name - The name of the data set representing the selection.\n   *  Tuples in the dataset are of the form\n   *  {unit: string, fields: array<fielddef>, values: array<*>}.\n   *  Fielddef is of the form\n   *  {field: string, channel: string, type: 'E' | 'R'} where\n   *  'type' identifies whether tuples in the dataset enumerate\n   *  values for the field, or specify a continuous range.\n   * @param {object} datum - The tuple to test for inclusion.\n   * @param {string} op - The set operation for combining selections.\n   *   One of 'intersect' or 'union' (default).\n   * @return {boolean} - True if the datum is in the selection, false otherwise.\n   */\n\n\n  function selectionTest(name, datum, op) {\n    var data = this.context.data[name],\n        entries = data ? data.values.value : [],\n        unitIdx = data ? data[UNIT_INDEX] && data[UNIT_INDEX].value : undefined,\n        intersect = op === Intersect,\n        n = entries.length,\n        i = 0,\n        entry,\n        miss,\n        count,\n        unit,\n        b;\n\n    for (; i < n; ++i) {\n      entry = entries[i];\n\n      if (unitIdx && intersect) {\n        // multi selections union within the same unit and intersect across units.\n        miss = miss || {};\n        count = miss[unit = entry.unit] || 0; // if we've already matched this unit, skip.\n\n        if (count === -1) continue;\n        b = testPoint(datum, entry);\n        miss[unit] = b ? -1 : ++count; // if we match and there are no other units return true\n        // if we've missed against all tuples in this unit return false\n\n        if (b && unitIdx.size === 1) return true;\n        if (!b && count === unitIdx.get(unit).count) return false;\n      } else {\n        b = testPoint(datum, entry); // if we find a miss and we do require intersection return false\n        // if we find a match and we don't require intersection return true\n\n        if (intersect ^ b) return b;\n      }\n    } // if intersecting and we made it here, then we saw no misses\n    // if not intersecting, then we saw no matches\n    // if no active selections, return false\n\n\n    return n && intersect;\n  }\n  const bisect = bisector($selectionId),\n        bisectLeft = bisect.left,\n        bisectRight = bisect.right;\n  function selectionIdTest(name, datum, op) {\n    const data = this.context.data[name],\n          entries = data ? data.values.value : [],\n          unitIdx = data ? data[UNIT_INDEX] && data[UNIT_INDEX].value : undefined,\n          intersect = op === Intersect,\n          value = $selectionId(datum),\n          index = bisectLeft(entries, value);\n    if (index === entries.length) return false;\n    if ($selectionId(entries[index]) !== value) return false;\n\n    if (unitIdx && intersect) {\n      if (unitIdx.size === 1) return true;\n      if (bisectRight(entries, value) - index < unitIdx.size) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Maps an array of scene graph items to an array of selection tuples.\n   * @param {string} name  - The name of the dataset representing the selection.\n   * @param {string} base  - The base object that generated tuples extend.\n   *\n   * @returns {array} An array of selection entries for the given unit.\n   */\n\n  function selectionTuples(array, base) {\n    return array.map(x => vegaUtil.extend(base.fields ? {\n      values: base.fields.map(f => (f.getter || (f.getter = vegaUtil.field(f.field)))(x.datum))\n    } : {\n      [SelectionId]: $selectionId(x.datum)\n    }, base));\n  }\n\n  /**\n   * Resolves selection for use as a scale domain or reads via the API.\n   * @param {string} name - The name of the dataset representing the selection\n   * @param {string} [op='union'] - The set operation for combining selections.\n   *                 One of 'intersect' or 'union' (default).\n   * @param {boolean} isMulti - Identifies a \"multi\" selection to perform more\n   *                 expensive resolution computation.\n   * @param {boolean} vl5 - With Vega-Lite v5, \"multi\" selections are now called \"point\"\n   *                 selections, and thus the resolved tuple should reflect this name.\n   *                 This parameter allows us to reflect this change without triggering\n   *                 a major version bump for Vega.\n   * @returns {object} An object of selected fields and values.\n   */\n\n  function selectionResolve(name, op, isMulti, vl5) {\n    var data = this.context.data[name],\n        entries = data ? data.values.value : [],\n        resolved = {},\n        multiRes = {},\n        types = {},\n        entry,\n        fields,\n        values,\n        unit,\n        field,\n        value,\n        res,\n        resUnit,\n        type,\n        union,\n        n = entries.length,\n        i = 0,\n        j,\n        m; // First union all entries within the same unit.\n\n    for (; i < n; ++i) {\n      entry = entries[i];\n      unit = entry.unit;\n      fields = entry.fields;\n      values = entry.values;\n\n      if (fields && values) {\n        // Intentional selection stores\n        for (j = 0, m = fields.length; j < m; ++j) {\n          field = fields[j];\n          res = resolved[field.field] || (resolved[field.field] = {});\n          resUnit = res[unit] || (res[unit] = []);\n          types[field.field] = type = field.type.charAt(0);\n          union = ops[`${type}_union`];\n          res[unit] = union(resUnit, vegaUtil.array(values[j]));\n        } // If the same multi-selection is repeated over views and projected over\n        // an encoding, it may operate over different fields making it especially\n        // tricky to reliably resolve it. At best, we can de-dupe identical entries\n        // but doing so may be more computationally expensive than it is worth.\n        // Instead, for now, we simply transform our store representation into\n        // a more human-friendly one.\n\n\n        if (isMulti) {\n          resUnit = multiRes[unit] || (multiRes[unit] = []);\n          resUnit.push(vegaUtil.array(values).reduce((obj, curr, j) => (obj[fields[j].field] = curr, obj), {}));\n        }\n      } else {\n        // Short circuit extensional selectionId stores which hold sorted IDs unique to each unit.\n        field = SelectionId;\n        value = $selectionId(entry);\n        res = resolved[field] || (resolved[field] = {});\n        resUnit = res[unit] || (res[unit] = []);\n        resUnit.push(value);\n\n        if (isMulti) {\n          resUnit = multiRes[unit] || (multiRes[unit] = []);\n          resUnit.push({\n            [SelectionId]: value\n          });\n        }\n      }\n    } // Then resolve fields across units as per the op.\n\n\n    op = op || Union;\n\n    if (resolved[SelectionId]) {\n      resolved[SelectionId] = ops[`${SelectionId}_${op}`](...Object.values(resolved[SelectionId]));\n    } else {\n      Object.keys(resolved).forEach(field => {\n        resolved[field] = Object.keys(resolved[field]).map(unit => resolved[field][unit]).reduce((acc, curr) => acc === undefined ? curr : ops[`${types[field]}_${op}`](acc, curr));\n      });\n    }\n\n    entries = Object.keys(multiRes);\n\n    if (isMulti && entries.length) {\n      const key = vl5 ? VlPoint : VlMulti;\n      resolved[key] = op === Union ? {\n        [Or]: entries.reduce((acc, k) => (acc.push(...multiRes[k]), acc), [])\n      } : {\n        [And]: entries.map(k => ({\n          [Or]: multiRes[k]\n        }))\n      };\n    }\n\n    return resolved;\n  }\n  var ops = {\n    [`${SelectionId}_union`]: union,\n    [`${SelectionId}_intersect`]: intersection,\n    E_union: function (base, value) {\n      if (!base.length) return value;\n      var i = 0,\n          n = value.length;\n\n      for (; i < n; ++i) if (base.indexOf(value[i]) < 0) base.push(value[i]);\n\n      return base;\n    },\n    E_intersect: function (base, value) {\n      return !base.length ? value : base.filter(v => value.indexOf(v) >= 0);\n    },\n    R_union: function (base, value) {\n      var lo = vegaUtil.toNumber(value[0]),\n          hi = vegaUtil.toNumber(value[1]);\n\n      if (lo > hi) {\n        lo = value[1];\n        hi = value[0];\n      }\n\n      if (!base.length) return [lo, hi];\n      if (base[0] > lo) base[0] = lo;\n      if (base[1] < hi) base[1] = hi;\n      return base;\n    },\n    R_intersect: function (base, value) {\n      var lo = vegaUtil.toNumber(value[0]),\n          hi = vegaUtil.toNumber(value[1]);\n\n      if (lo > hi) {\n        lo = value[1];\n        hi = value[0];\n      }\n\n      if (!base.length) return [lo, hi];\n\n      if (hi < base[0] || base[1] < lo) {\n        return [];\n      } else {\n        if (base[0] < lo) base[0] = lo;\n        if (base[1] > hi) base[1] = hi;\n      }\n\n      return base;\n    }\n  };\n\n  const DataPrefix = ':',\n        IndexPrefix = '@';\n  function selectionVisitor(name, args, scope, params) {\n    if (args[0].type !== vegaExpression.Literal) vegaUtil.error('First argument to selection functions must be a string literal.');\n    const data = args[0].value,\n          op = args.length >= 2 && vegaUtil.peek(args).value,\n          field = 'unit',\n          indexName = IndexPrefix + field,\n          dataName = DataPrefix + data; // eslint-disable-next-line no-prototype-builtins\n\n    if (op === Intersect && !vegaUtil.hasOwnProperty(params, indexName)) {\n      params[indexName] = scope.getData(data).indataRef(scope, field);\n    } // eslint-disable-next-line no-prototype-builtins\n\n\n    if (!vegaUtil.hasOwnProperty(params, dataName)) {\n      params[dataName] = scope.getData(data).tuplesRef();\n    }\n  }\n\n  exports.selectionIdTest = selectionIdTest;\n  exports.selectionResolve = selectionResolve;\n  exports.selectionTest = selectionTest;\n  exports.selectionTuples = selectionTuples;\n  exports.selectionVisitor = selectionVisitor;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n};"],
"names":["shadow$provide","global","require","module","exports","factory","define","amd","globalThis","self","vega","vegaUtil","vegaExpression","ascending","a","b","NaN","intern_get","_intern","_key","value","key","has","get","intern_set","set","intern_delete","delete","keyof","valueOf","values","InternSet","testPoint","datum","entry","fields","n","length","i","dval","f","getter","field","isDate","toNumber","map","TYPE_ENUM","type","isArray","indexOf","TYPE_RANGE_INC","inrange","TYPE_RANGE_RE","TYPE_RANGE_EXC","TYPE_RANGE_LE","Set","constructor","Object","defineProperties","Map","add","$selectionId","SelectionId","bisect","bisector","left","x","lo","hi","compare1","mid","compare2","delta","d","center","right","bisectLeft","bisectRight","ops","union","others","other","o","intersection","E_union","base","push","E_intersect","filter","v","R_union","R_intersect","selectionIdTest","name","op","data","context","entries","unitIdx","UNIT_INDEX","undefined","intersect","Intersect","index","size","selectionResolve","isMulti","vl5","resolved","multiRes","types","unit","resUnit","j","m","res","charAt","array","reduce","obj","curr","Union","keys","forEach","acc","VlPoint","VlMulti","k","selectionTest","miss","count","selectionTuples","extend","selectionVisitor","args","scope","params","Literal","error","peek","dataName","DataPrefix","hasOwnProperty","indexName","getData","indataRef","tuplesRef","defineProperty"]
}
