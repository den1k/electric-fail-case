shadow$provide.module$node_modules$vega_format$build$vega_format=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$vega_time$build$vega_time"),require("module$node_modules$vega_util$build$vega_util")):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],factory):(global="undefined"!==typeof globalThis?globalThis:global||
self,factory(global.vega={},global.vega,global.vega))})(this,function(exports,vegaTime,vegaUtil){function memoize(method){const cache={};return spec=>cache[spec]||(cache[spec]=method(spec))}function formatDecimalParts(x,p){if(0>(p=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e")))return null;var coefficient=x.slice(0,p);return[1<coefficient.length?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(p+1)]}function exponent(x){return x=formatDecimalParts(Math.abs(x)),x?x[1]:NaN}function formatGroup(grouping,
thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;0<i&&0<g;){length+g+1>width&&(g=Math.max(1,width-length));t.push(value.substring(i-=g,i+g));if((length+=g+1)>width)break;g=grouping[j=(j+1)%grouping.length]}return t.reverse().join(thousands)}}function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,function(i){return numerals[+i]})}}function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw Error("invalid format: "+
specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"";this.align=void 0===specifier.align?"\x3e":specifier.align+"";this.sign=void 0===specifier.sign?"-":specifier.sign+"";this.symbol=void 0===specifier.symbol?"":specifier.symbol+"";this.zero=
!!specifier.zero;this.width=void 0===specifier.width?void 0:+specifier.width;this.comma=!!specifier.comma;this.precision=void 0===specifier.precision?void 0:+specifier.precision;this.trim=!!specifier.trim;this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){p=formatDecimalParts(x,p);if(!p)return x+"";x=p[0];p=p[1];return 0>p?"0."+Array(-p).join("0")+x:x.length>p+1?x.slice(0,p+1)+"."+x.slice(p+1):x+Array(p-x.length+2).join("0")}function identity(x){return x}function d3_formatLocale(locale){function newFormat(specifier){function format(value){var valuePrefix=
prefix,valueSuffix=suffix,n,c;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{value=+value;var i=0>value||0>1/value;value=isNaN(value)?nan:formatType(Math.abs(value),precision);if(trim){var n$jscomp$0=value.length,i$jscomp$0=1,i0=-1;a:for(;i$jscomp$0<n$jscomp$0;++i$jscomp$0)switch(value[i$jscomp$0]){case ".":i0=n=i$jscomp$0;break;case "0":0===i0&&(i0=i$jscomp$0);n=i$jscomp$0;break;default:if(!+value[i$jscomp$0])break a;0<i0&&(i0=0)}value=0<i0?value.slice(0,i0)+value.slice(n+
1):value}i&&0===+value&&"+"!==sign&&(i=!1);valuePrefix=(i?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix;valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(i&&"("===sign?")":"");if(maybeSuffix)for(i=-1,n=value.length;++i<n;)if(c=value.charCodeAt(i),48>c||57<c){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix;value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,Infinity));c=valuePrefix.length+value.length+valueSuffix.length;i=
c<width?Array(width-c+1).join(fill):"";comma&&zero&&(value=group(i+value,i.length?width-valueSuffix.length:Infinity),i="");switch(align){case "\x3c":value=valuePrefix+value+valueSuffix+i;break;case "\x3d":value=valuePrefix+i+value+valueSuffix;break;case "^":value=i.slice(0,c=i.length>>1)+valuePrefix+value+valueSuffix+i.slice(c);break;default:value=i+valuePrefix+value+valueSuffix}return numerals(value)}specifier=formatSpecifier(specifier);var fill=specifier.fill,align=specifier.align,sign=specifier.sign,
symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g");if(zero||"0"===fill&&"\x3d"===align)zero=!0,fill="0",align="\x3d";var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=
formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision));format.toString=function(){return specifier+""};return format}var group=void 0===locale.grouping||void 0===locale.thousands?identity:formatGroup(map.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+
"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?identity:formatNumerals(map.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"−":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";return{format:newFormat,formatPrefix:function(specifier,value$jscomp$0){var f=newFormat((specifier=formatSpecifier(specifier),specifier.type="f",specifier));specifier=3*Math.max(-8,Math.min(8,Math.floor(exponent(value$jscomp$0)/
3)));var k=Math.pow(10,-specifier),prefix=prefixes[8+specifier/3];return function(value){return f(k*value)+prefix}}}}function trimZeroes(numberFormat,decimalChar){return x=>{x=numberFormat(x);const dec=x.indexOf(decimalChar);if(0>dec)return x;a:{var JSCompiler_inline_result=x.lastIndexOf("e");if(!(0<JSCompiler_inline_result)){for(JSCompiler_inline_result=x.length;--JSCompiler_inline_result>dec;){var c=x.charCodeAt(JSCompiler_inline_result);if(48<=c&&57>=c){JSCompiler_inline_result+=1;break a}}JSCompiler_inline_result=
void 0}}for(c=JSCompiler_inline_result<x.length?x.slice(JSCompiler_inline_result):"";--JSCompiler_inline_result>dec;)if("0"!==x[JSCompiler_inline_result]){++JSCompiler_inline_result;break}return x.slice(0,JSCompiler_inline_result)+c}}function numberLocale(locale){const format=memoize(locale.format),formatPrefix=locale.formatPrefix;return{format,formatPrefix,formatFloat(spec){spec=formatSpecifier(spec||",");if(null==spec.precision){spec.precision=12;switch(spec.type){case "%":spec.precision-=2;break;
case "e":--spec.precision}return trimZeroes(format(spec),format(".1f")(1)[1])}return format(spec)},formatSpan(start,stop,count,specifier){specifier=formatSpecifier(null==specifier?",f":specifier);var step0=Math.abs(stop-start)/Math.max(0,count);count=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10));step0/=count;step0>=e10?count*=10:step0>=e5?count*=5:step0>=e2&&(count*=2);count=stop<start?-count:count;start=Math.max(Math.abs(start),Math.abs(stop));if(null==specifier.precision)switch(specifier.type){case "s":return stop=
isNaN,count=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(start)/3)))-exponent(Math.abs(count))),stop(stop=count)||(specifier.precision=stop),formatPrefix(specifier,start);case "":case "e":case "g":case "p":case "r":stop=isNaN;count=Math.abs(count);start=Math.abs(start)-count;start=Math.max(0,exponent(start)-exponent(count))+1;stop(stop=start)||(specifier.precision=stop-("e"===specifier.type));break;case "f":case "%":isNaN(stop=Math.max(0,-exponent(Math.abs(count))))||(specifier.precision=
stop-2*("%"===specifier.type))}return format(specifier)}}}function resetNumberFormatDefaultLocale(){return defaultNumberLocale=numberLocale({format:format$jscomp$0,formatPrefix})}function numberFormatLocale(definition){return numberLocale(d3_formatLocale(definition))}function numberFormatDefaultLocale(definition){return arguments.length?defaultNumberLocale=numberFormatLocale(definition):defaultNumberLocale}function newInterval(floori,offseti,count,field){function interval(date){return floori(date=
0===arguments.length?new Date:new Date(+date)),date}interval.floor=function(date){return floori(date=new Date(+date)),date};interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date};interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1};interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date};interval.range=function(start,stop,step){var range=[],previous;
start=interval.ceil(start);step=null==step?1:Math.floor(step);if(!(start<stop&&0<step))return range;do range.push(previous=new Date(+start)),offseti(start,step),floori(start);while(previous<start&&start<stop);return range};interval.filter=function(test){return newInterval(function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)},function(date,step){if(date>=date)if(0>step)for(;0>=++step;)for(;offseti(date,-1),!test(date););else for(;0<=--step;)for(;offseti(date,1),!test(date););
})};count&&(interval.count=function(start,end){t0.setTime(+start);t1.setTime(+end);floori(t0);floori(t1);return Math.floor(count(t0,t1))},interval.every=function(step){step=Math.floor(step);return isFinite(step)&&0<step?1<step?interval.filter(field?function(d){return 0===field(d)%step}:function(d){return 0===interval.count(0,d)%step}):interval:null});return interval}function weekday(i){return newInterval(function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7);date.setHours(0,0,0,0)},function(date,
step){date.setDate(date.getDate()+7*step)},function(start,end){return(end-start-6E4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/6048E5})}function utcWeekday(i){return newInterval(function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+7*step)},function(start,end){return(end-start)/6048E5})}function localDate(d){if(0<=d.y&&100>d.y){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);date.setFullYear(d.y);
return date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&100>d.y){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));date.setUTCFullYear(d.y);return date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y,m,d,H:0,M:0,S:0,L:0}}function formatLocale(locale){function newFormat(specifier,formats){return function(date){var string=[],i=-1,j=0,n=specifier.length,c,format;for(date instanceof Date||(date=new Date(+date));++i<n;)if(37===
specifier.charCodeAt(i)){string.push(specifier.slice(j,i));null!=(j=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):j="e"===c?" ":"0";if(format=formats[c])c=format(date,j);string.push(c);j=i+1}string.push(specifier.slice(j,i));return string.join("")}}function newParse(specifier,Z){return function(string){var d=newDate(1900,void 0,1);if(parseSpecifier(d,specifier,string+="",0)!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1E3*d.s+("L"in d?d.L:0));!Z||
"Z"in d||(d.Z=0);"p"in d&&(d.H=d.H%12+12*d.p);void 0===d.m&&(d.m="q"in d?d.q:0);if("V"in d){if(1>d.V||53<d.V)return null;"w"in d||(d.w=1);if("Z"in d){string=utcDate(newDate(d.y,0,1));var day=string.getUTCDay();string=4<day||0===day?utcMonday.ceil(string):utcMonday(string);string=utcDay$1.offset(string,7*(d.V-1));d.y=string.getUTCFullYear();d.m=string.getUTCMonth();d.d=string.getUTCDate()+(d.w+6)%7}else string=localDate(newDate(d.y,0,1)),day=string.getDay(),string=4<day||0===day?monday.ceil(string):
monday(string),string=timeDay.offset(string,7*(d.V-1)),d.y=string.getFullYear(),d.m=string.getMonth(),d.d=string.getDate()+(d.w+6)%7}else if("W"in d||"U"in d)"w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7;return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):localDate(d)}}function parseSpecifier(d,specifier,string,j){for(var i=0,n=specifier.length,m=string.length,
c;i<n;){if(j>=m)return-1;c=specifier.charCodeAt(i++);if(37===c){if(c=specifier.charAt(i++),c=parses[c in pads?specifier.charAt(i++):c],!c||0>(j=c(d,string,j)))return-1}else if(c!=string.charCodeAt(j++))return-1}return j}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=
formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function(d){return locale_shortWeekdays[d.getDay()]},A:function(d){return locale_weekdays[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},
B:function(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(d){return locale_periods[+(12<=d.getHours())]},q:function(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,
W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function(d){return locale_shortWeekdays[d.getUTCDay()]},A:function(d){return locale_weekdays[d.getUTCDay()]},b:function(d){return locale_shortMonths[d.getUTCMonth()]},B:function(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,
L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(d){return locale_periods[+(12<=d.getUTCHours())]},q:function(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function(d,string,
i){return(string=shortWeekdayRe.exec(string.slice(i)))?(d.w=shortWeekdayLookup.get(string[0].toLowerCase()),i+string[0].length):-1},A:function(d,string,i){return(string=weekdayRe.exec(string.slice(i)))?(d.w=weekdayLookup.get(string[0].toLowerCase()),i+string[0].length):-1},b:function(d,string,i){return(string=shortMonthRe.exec(string.slice(i)))?(d.m=shortMonthLookup.get(string[0].toLowerCase()),i+string[0].length):-1},B:function(d,string,i){return(string=monthRe.exec(string.slice(i)))?(d.m=monthLookup.get(string[0].toLowerCase()),
i+string[0].length):-1},c:function(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(d,string,i){return(string=periodRe.exec(string.slice(i)))?(d.p=periodLookup.get(string[0].toLowerCase()),i+string[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,
U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};formats.x=newFormat(locale_date,formats);formats.X=newFormat(locale_time,formats);formats.c=newFormat(locale_dateTime,formats);utcFormats.x=newFormat(locale_date,utcFormats);utcFormats.X=newFormat(locale_time,
utcFormats);utcFormats.c=newFormat(locale_dateTime,utcFormats);return{format:function(specifier){var f=newFormat(specifier+="",formats);f.toString=function(){return specifier};return f},parse:function(specifier){var p=newParse(specifier+="",!1);p.toString=function(){return specifier};return p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);f.toString=function(){return specifier};return f},utcParse:function(specifier){var p=newParse(specifier+="",!0);p.toString=function(){return specifier};
return p}}}function pad(value,fill,width){var sign=0>value?"-":"";value=(sign?-value:value)+"";var length=value.length;return sign+(length<width?Array(width-length+1).join(fill)+value:value)}function requote(s){return s.replace(requoteRe,"\\$\x26")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){return new Map(names.map((name,i)=>[name.toLowerCase(),i]))}function parseWeekdayNumberSunday(d,string,i){return(string=numberRe.exec(string.slice(i,
i+1)))?(d.w=+string[0],i+string[0].length):-1}function parseWeekdayNumberMonday(d,string,i){return(string=numberRe.exec(string.slice(i,i+1)))?(d.u=+string[0],i+string[0].length):-1}function parseWeekNumberSunday(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.U=+string[0],i+string[0].length):-1}function parseWeekNumberISO(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.V=+string[0],i+string[0].length):-1}function parseWeekNumberMonday(d,string,i){return(string=numberRe.exec(string.slice(i,
i+2)))?(d.W=+string[0],i+string[0].length):-1}function parseFullYear(d,string,i){return(string=numberRe.exec(string.slice(i,i+4)))?(d.y=+string[0],i+string[0].length):-1}function parseYear(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.y=+string[0]+(68<+string[0]?1900:2E3),i+string[0].length):-1}function parseZone(d,string,i){return(string=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6)))?(d.Z=string[1]?0:-(string[2]+(string[3]||"00")),i+string[0].length):-1}function parseQuarter(d,
string,i){return(string=numberRe.exec(string.slice(i,i+1)))?(d.q=3*string[0]-3,i+string[0].length):-1}function parseMonthNumber(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.m=string[0]-1,i+string[0].length):-1}function parseDayOfMonth(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.d=+string[0],i+string[0].length):-1}function parseDayOfYear(d,string,i){return(string=numberRe.exec(string.slice(i,i+3)))?(d.m=0,d.d=+string[0],i+string[0].length):-1}function parseHour24(d,
string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.H=+string[0],i+string[0].length):-1}function parseMinutes(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.M=+string[0],i+string[0].length):-1}function parseSeconds(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.S=+string[0],i+string[0].length):-1}function parseMilliseconds(d,string,i){return(string=numberRe.exec(string.slice(i,i+3)))?(d.L=+string[0],i+string[0].length):-1}function parseMicroseconds(d,
string,i){return(string=numberRe.exec(string.slice(i,i+6)))?(d.L=Math.floor(string[0]/1E3),i+string[0].length):-1}function parseLiteralPercent(d,string,i){return(d=percentRe.exec(string.slice(i,i+1)))?i+d[0].length:-1}function parseUnixTimestamp(d,string,i){return(string=numberRe.exec(string.slice(i)))?(d.Q=+string[0],i+string[0].length):-1}function parseUnixTimestampSeconds(d,string,i){return(string=numberRe.exec(string.slice(i)))?(d.s=+string[0],i+string[0].length):-1}function formatDayOfMonth(d,
p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+timeDay.count(timeYear(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,
p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){d=d.getDay();return 0===d?7:d}function formatWeekNumberSunday(d,p){return pad(sunday.count(timeYear(d)-1,d),p,2)}function dISO(d){var day=d.getDay();return 4<=day||0===day?thursday(d):thursday.ceil(d)}function formatWeekNumberISO(d,p){d=dISO(d);return pad(thursday.count(timeYear(d),d)+(4===timeYear(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(monday.count(timeYear(d)-
1,d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){d=dISO(d);return pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1E4,p,4)}function formatFullYearISO(d,p){var day=d.getDay();d=4<=day||0===day?thursday(d):thursday.ceil(d);return pad(d.getFullYear()%1E4,p,4)}function formatZone(d){d=d.getTimezoneOffset();return(0<d?"-":(d*=-1,"+"))+pad(d/60|0,"0",2)+pad(d%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),
p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+utcDay$1.count(utcYear$1(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}
function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){d=d.getUTCDay();return 0===d?7:d}function formatUTCWeekNumberSunday(d,p){return pad(utcSunday.count(utcYear$1(d)-1,d),p,2)}function UTCdISO(d){var day=d.getUTCDay();return 4<=day||0===day?utcThursday(d):utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){d=UTCdISO(d);return pad(utcThursday.count(utcYear$1(d),d)+(4===utcYear$1(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}
function formatUTCWeekNumberMonday(d,p){return pad(utcMonday.count(utcYear$1(d)-1,d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){d=UTCdISO(d);return pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1E4,p,4)}function formatUTCFullYearISO(d,p){var day=d.getUTCDay();d=4<=day||0===day?utcThursday(d):utcThursday.ceil(d);return pad(d.getUTCFullYear()%1E4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}
function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1E3)}function timeMultiFormat(format,interval,spec){spec=spec||{};vegaUtil.isObject(spec)||vegaUtil.error(`Invalid time multi-format specifier: ${spec}`);const second=interval(vegaTime.SECONDS),minute=interval(vegaTime.MINUTES),hour=interval(vegaTime.HOURS),day=interval(vegaTime.DATE),week=interval(vegaTime.WEEK),month=interval(vegaTime.MONTH),quarter=interval(vegaTime.QUARTER),year=interval(vegaTime.YEAR),
L=format(spec[vegaTime.MILLISECONDS]||".%L"),S=format(spec[vegaTime.SECONDS]||":%S"),M=format(spec[vegaTime.MINUTES]||"%I:%M"),H=format(spec[vegaTime.HOURS]||"%I %p"),d=format(spec[vegaTime.DATE]||spec[vegaTime.DAY]||"%a %d"),w=format(spec[vegaTime.WEEK]||"%b %d"),m=format(spec[vegaTime.MONTH]||"%B"),q=format(spec[vegaTime.QUARTER]||"%B"),y=format(spec[vegaTime.YEAR]||"%Y");return date=>(second(date)<date?L:minute(date)<date?S:hour(date)<date?M:day(date)<date?H:month(date)<date?week(date)<date?d:
w:year(date)<date?quarter(date)<date?m:q:y)(date)}function timeLocale(locale){const timeFormat=memoize(locale.format),utcFormat=memoize(locale.utcFormat);return{timeFormat:spec=>vegaUtil.isString(spec)?timeFormat(spec):timeMultiFormat(timeFormat,vegaTime.timeInterval,spec),utcFormat:spec=>vegaUtil.isString(spec)?utcFormat(spec):timeMultiFormat(utcFormat,vegaTime.utcInterval,spec),timeParse:memoize(locale.parse),utcParse:memoize(locale.utcParse)}}function resetTimeFormatDefaultLocale(){return defaultTimeLocale=
timeLocale({format:timeFormat,parse:timeParse,utcFormat,utcParse})}function timeFormatLocale(definition){return timeLocale(formatLocale(definition))}function timeFormatDefaultLocale(definition){return arguments.length?defaultTimeLocale=timeFormatLocale(definition):defaultTimeLocale}function defaultLocale(numberSpec,timeSpec){var args=arguments.length;args&&2!==args&&vegaUtil.error("defaultLocale expects either zero or two arguments.");if(args){args=numberFormatDefaultLocale(numberSpec);var time=timeFormatDefaultLocale(timeSpec);
args=vegaUtil.extend({},args,time)}else args=numberFormatDefaultLocale(),time=timeFormatDefaultLocale(),args=vegaUtil.extend({},args,time);return args}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2),re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;formatSpecifier.prototype=FormatSpecifier.prototype;FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+
(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var prefixExponent,formatTypes={"%":(x,p)=>(100*x).toFixed(p),b:x=>Math.round(x).toString(2),c:x=>x+"",d:function(x){return 1E21<=Math.abs(x=Math.round(x))?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:(x,p)=>x.toExponential(p),f:(x,p)=>x.toFixed(p),g:(x,p)=>x.toPrecision(p),o:x=>Math.round(x).toString(8),p:(x,p)=>formatRounded(100*x,p),r:formatRounded,s:function(x,p){var d=
formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0];d=d[1];d=d-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(d/3))))+1;var n=coefficient.length;return d===n?coefficient:d>n?coefficient+Array(d-n+1).join("0"):0<d?coefficient.slice(0,d)+"."+coefficient.slice(d):"0."+Array(1-d).join("0")+formatDecimalParts(x,Math.max(0,p+d-1))[0]},X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)},map=Array.prototype.map,prefixes="y z a f p n µ m  k M G T P E Z Y".split(" "),
locale$2,format$jscomp$0,formatPrefix;(function(definition){locale$2=d3_formatLocale(definition);format$jscomp$0=locale$2.format;formatPrefix=locale$2.formatPrefix;return locale$2})({thousands:",",grouping:[3],currency:["$",""]});let defaultNumberLocale;resetNumberFormatDefaultLocale();var t0=new Date,t1=new Date,timeDay=newInterval(date=>date.setHours(0,0,0,0),(date,step)=>date.setDate(date.getDate()+step),(start,end)=>(end-start-6E4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/864E5,date=>
date.getDate()-1),sunday=weekday(0),monday=weekday(1);weekday(2);weekday(3);var thursday=weekday(4);weekday(5);weekday(6);var year$jscomp$0=newInterval(function(date){date.setMonth(0,1);date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step)},function(start,end){return end.getFullYear()-start.getFullYear()},function(date){return date.getFullYear()});year$jscomp$0.every=function(k){return isFinite(k=Math.floor(k))&&0<k?newInterval(function(date){date.setFullYear(Math.floor(date.getFullYear()/
k)*k);date.setMonth(0,1);date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step*k)}):null};var timeYear=year$jscomp$0,utcDay$1=newInterval(function(date){date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+step)},function(start,end){return(end-start)/864E5},function(date){return date.getUTCDate()-1}),utcSunday=utcWeekday(0),utcMonday=utcWeekday(1);utcWeekday(2);utcWeekday(3);var utcThursday=utcWeekday(4);utcWeekday(5);utcWeekday(6);var utcYear=
newInterval(function(date){date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)},function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()},function(date){return date.getUTCFullYear()});utcYear.every=function(k){return isFinite(k=Math.floor(k))&&0<k?newInterval(function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k);date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+
step*k)}):null};var utcYear$1=utcYear,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g,locale$1,timeFormat,timeParse,utcFormat,utcParse;(function(definition){locale$1=formatLocale(definition);timeFormat=locale$1.format;timeParse=locale$1.parse;utcFormat=locale$1.utcFormat;utcParse=locale$1.utcParse;return locale$1})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let defaultTimeLocale;resetTimeFormatDefaultLocale();exports.defaultLocale=defaultLocale;exports.locale=function(numberSpec,timeSpec){numberSpec=numberSpec?numberFormatLocale(numberSpec):numberFormatDefaultLocale();timeSpec=timeSpec?timeFormatLocale(timeSpec):timeFormatDefaultLocale();
return vegaUtil.extend({},numberSpec,timeSpec)};exports.numberFormatDefaultLocale=numberFormatDefaultLocale;exports.numberFormatLocale=numberFormatLocale;exports.resetDefaultLocale=function(){resetNumberFormatDefaultLocale();resetTimeFormatDefaultLocale();return defaultLocale()};exports.resetNumberFormatDefaultLocale=resetNumberFormatDefaultLocale;exports.resetTimeFormatDefaultLocale=resetTimeFormatDefaultLocale;exports.timeFormatDefaultLocale=timeFormatDefaultLocale;exports.timeFormatLocale=timeFormatLocale;
Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_format$build$vega_format.js.map
