shadow$provide.module$node_modules$vega_functions$build$vega_functions=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$vega_util$build$vega_util"),require("module$node_modules$vega_expression$build$vega_expression"),require("module$node_modules$vega_dataflow$build$vega_dataflow"),require("module$node_modules$vega_scale$build$vega_scale"),require("module$node_modules$vega_scenegraph$build$vega_scenegraph"),
require("module$node_modules$vega_selections$build$vega_selection"),require("module$node_modules$vega_statistics$build$vega_statistics"),require("module$node_modules$vega_time$build$vega_time")):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time".split(" "),factory):(global="undefined"!==typeof globalThis?globalThis:global||self,factory(global.vega={},global.vega,global.vega,global.vega,
global.vega,global.vega,global.vega,global.vega,global.vega))})(this,function(exports,vegaUtil,vegaExpression,vegaDataflow,vegaScale,vegaScenegraph,vegaSelections,vegaStatistics,vegaTime){function data$jscomp$0(name){return(name=this.context.data[name])?name.values.value:[]}function indata(name,field,value){return(value=(name=this.context.data[name]["index:"+field])?name.value.get(value):void 0)?value.count:value}function setdata(name,tuples){const df=this.context.dataflow;df.pulse(this.context.data[name].input,
df.changeset().remove(vegaUtil.truthy).insert(tuples));return 1}function encode(item,name,retval){if(item){const df=this.context.dataflow;df.pulse(item.mark.source,df.changeset().encode(item,name))}return void 0!==retval?retval:item}function time(month,day,specifier){if(!Number.isInteger(month)||!Number.isInteger(day))return"";dateObj.setYear(2E3);dateObj.setMonth(month);dateObj.setDate(day);return timeFormat.call(this,dateObj,specifier)}function monthFormat(month){return time.call(this,month,1,"%B")}
function monthAbbrevFormat(month){return time.call(this,month,1,"%b")}function dayFormat(day){return time.call(this,0,2+day,"%A")}function dayAbbrevFormat(day){return time.call(this,0,2+day,"%a")}function dataVisitor(name,args,scope,params){args[0].type!==vegaExpression.Literal&&vegaUtil.error("First argument to data functions must be a string literal.");name=args[0].value;args=":"+name;if(!vegaUtil.hasOwnProperty(args,params))try{params[args]=scope.getData(name).tuplesRef()}catch(err){}}function indataVisitor(name,
args,scope,params){args[0].type!==vegaExpression.Literal&&vegaUtil.error("First argument to indata must be a string literal.");args[1].type!==vegaExpression.Literal&&vegaUtil.error("Second argument to indata must be a string literal.");name=args[0].value;args=args[1].value;const indexName="@"+args;vegaUtil.hasOwnProperty(indexName,params)||(params[indexName]=scope.getData(name).indataRef(scope,args))}function scaleVisitor(name,args,scope,params){if(args[0].type===vegaExpression.Literal)addScaleDependency(scope,
params,args[0].value);else for(name in scope.scales)addScaleDependency(scope,params,name)}function addScaleDependency(scope,params,name){const scaleName="%"+name;if(!vegaUtil.hasOwnProperty(params,scaleName))try{params[scaleName]=scope.scaleRef(name)}catch(err){}}function getScale(name,ctx){let s;return vegaUtil.isFunction(name)?name:vegaUtil.isString(name)?(s=ctx.scales[name])&&s.value:void 0}function internalScaleFunctions(codegen,fnctx,visitors){fnctx.__bandwidth=s=>s&&s.bandwidth?s.bandwidth():
0;visitors._bandwidth=scaleVisitor;visitors._range=scaleVisitor;visitors._scale=scaleVisitor;const ref=arg=>"_["+(arg.type===vegaExpression.Literal?vegaUtil.stringValue("%"+arg.value):vegaUtil.stringValue("%")+"+"+codegen(arg))+"]";return{_bandwidth:args=>`this.__bandwidth(${ref(args[0])})`,_range:args=>`${ref(args[0])}.range()`,_scale:args=>`${ref(args[0])}(${codegen(args[1])})`}}function asin(x){return 1<x?halfPi:-1>x?-halfPi:Math.asin(x)}function noop(){}function streamGeometry(geometry,stream){if(geometry&&
streamGeometryType.hasOwnProperty(geometry.type))streamGeometryType[geometry.type](geometry,stream)}function streamLine(coordinates,stream,closed){var i=-1;closed=coordinates.length-closed;for(stream.lineStart();++i<closed;){var coordinate=coordinates[i];stream.point(coordinate[0],coordinate[1],coordinate[2])}stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;for(stream.polygonStart();++i<n;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}function geoStream(object,
stream){if(object&&streamObjectType.hasOwnProperty(object.type))streamObjectType[object.type](object,stream);else streamGeometry(object,stream)}function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00$2,phi00$2)}function areaPointFirst(lambda,phi){areaStream.point=areaPoint;lambda00$2=lambda;phi00$2=phi;lambda*=radians$1;phi*=radians$1;lambda0$1=lambda;cosPhi0=cos(phi=phi/2+quarterPi);sinPhi0=sin(phi)}function areaPoint(lambda,phi){lambda*=radians$1;phi*=
radians$1;phi=phi/2+quarterPi;var dLambda=lambda-lambda0$1,sdLambda=0<=dLambda?1:-1,adLambda=sdLambda*dLambda;dLambda=cos(phi);phi=sin(phi);var k=sinPhi0*phi,u=cosPhi0*dLambda+k*cos(adLambda);sdLambda=k*sdLambda*sin(adLambda);areaRingSum.add(atan2(sdLambda,u));lambda0$1=lambda;cosPhi0=dLambda;sinPhi0=phi}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function boundsPoint(lambda,phi){ranges.push(range$1=[lambda0$jscomp$0=lambda,lambda1$jscomp$0=lambda]);
phi<phi0&&(phi0=phi);phi>phi1&&(phi1=phi)}function linePoint(lambda,phi){var spherical=[lambda*radians$1,phi*radians$1];var p=spherical[0];spherical=spherical[1];var cosPhi=cos(spherical);p=[cosPhi*cos(p),cosPhi*sin(p),sin(spherical)];if(p0$jscomp$0){spherical=cartesianCross(p0$jscomp$0,p);cosPhi=spherical=cartesianCross([spherical[1],-spherical[0],0],spherical);var l=sqrt(cosPhi[0]*cosPhi[0]+cosPhi[1]*cosPhi[1]+cosPhi[2]*cosPhi[2]);cosPhi[0]/=l;cosPhi[1]/=l;cosPhi[2]/=l;spherical=[atan2(spherical[1],
spherical[0]),asin(spherical[2])];var delta=lambda-lambda2;cosPhi=0<delta?1:-1;l=spherical[0]*degrees$1*cosPhi;delta=180<abs(delta);delta^(cosPhi*lambda2<l&&l<cosPhi*lambda)?(spherical=spherical[1]*degrees$1,spherical>phi1&&(phi1=spherical)):(l=(l+360)%360-180,delta^(cosPhi*lambda2<l&&l<cosPhi*lambda))?(spherical=-spherical[1]*degrees$1,spherical<phi0&&(phi0=spherical)):(phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi));delta?lambda<lambda2?angle(lambda0$jscomp$0,lambda)>angle(lambda0$jscomp$0,lambda1$jscomp$0)&&
(lambda1$jscomp$0=lambda):angle(lambda,lambda1$jscomp$0)>angle(lambda0$jscomp$0,lambda1$jscomp$0)&&(lambda0$jscomp$0=lambda):lambda1$jscomp$0>=lambda0$jscomp$0?(lambda<lambda0$jscomp$0&&(lambda0$jscomp$0=lambda),lambda>lambda1$jscomp$0&&(lambda1$jscomp$0=lambda)):lambda>lambda2?angle(lambda0$jscomp$0,lambda)>angle(lambda0$jscomp$0,lambda1$jscomp$0)&&(lambda1$jscomp$0=lambda):angle(lambda,lambda1$jscomp$0)>angle(lambda0$jscomp$0,lambda1$jscomp$0)&&(lambda0$jscomp$0=lambda)}else ranges.push(range$1=
[lambda0$jscomp$0=lambda,lambda1$jscomp$0=lambda]);phi<phi0&&(phi0=phi);phi>phi1&&(phi1=phi);p0$jscomp$0=p;lambda2=lambda}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){range$1[0]=lambda0$jscomp$0;range$1[1]=lambda1$jscomp$0;boundsStream.point=boundsPoint;p0$jscomp$0=null}function boundsRingPoint(lambda,phi){if(p0$jscomp$0){var delta=lambda-lambda2;deltaSum.add(180<abs(delta)?delta+(0<delta?360:-360):delta)}else lambda00$1=lambda,phi00$1=phi;areaStream.point(lambda,
phi);linePoint(lambda,phi)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1);areaStream.lineEnd();1E-6<abs(deltaSum)&&(lambda0$jscomp$0=-(lambda1$jscomp$0=180));range$1[0]=lambda0$jscomp$0;range$1[1]=lambda1$jscomp$0;p0$jscomp$0=null}function angle(lambda0,lambda1){return 0>(lambda1-=lambda0)?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:
x<range[0]||range[1]<x}function centroidPoint(lambda,phi){lambda*=radians$1;phi*=radians$1;var cosPhi=cos(phi);centroidPointCartesian(cosPhi*cos(lambda),cosPhi*sin(lambda),sin(phi))}function centroidPointCartesian(x,y,z){++W0;X0+=(x-X0)/W0;Y0+=(y-Y0)/W0;Z0+=(z-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*=radians$1;phi*=radians$1;var cosPhi=cos(phi);x0=cosPhi*cos(lambda);y0=cosPhi*sin(lambda);z0=sin(phi);centroidStream.point=
centroidLinePoint;centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(lambda,phi){lambda*=radians$1;phi*=radians$1;var cosPhi=cos(phi),x=cosPhi*cos(lambda);lambda=cosPhi*sin(lambda);phi=sin(phi);var w=atan2(sqrt((w=y0*phi-z0*lambda)*w+(w=z0*x-x0*phi)*w+(w=x0*lambda-y0*x)*w),x0*x+y0*lambda+z0*phi);W1+=w;X1+=w*(x0+(x0=x));Y1+=w*(y0+(y0=lambda));Z1+=w*(z0+(z0=phi));centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=
centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(lambda00,phi00);centroidStream.point=centroidPoint}function centroidRingPointFirst(lambda,phi){lambda00=lambda;phi00=phi;lambda*=radians$1;phi*=radians$1;centroidStream.point=centroidRingPoint;var cosPhi=cos(phi);x0=cosPhi*cos(lambda);y0=cosPhi*sin(lambda);z0=sin(phi);centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(lambda,phi){lambda*=radians$1;phi*=radians$1;var cosPhi=cos(phi),x=cosPhi*cos(lambda);lambda=cosPhi*sin(lambda);
phi=sin(phi);cosPhi=y0*phi-z0*lambda;var cy=z0*x-x0*phi,cz=x0*lambda-y0*x,m=hypot(cosPhi,cy,cz),w=asin(m);m=m&&-w/m;X2.add(m*cosPhi);Y2.add(m*cy);Z2.add(m*cz);W1+=w;X1+=w*(x0+(x0=x));Y1+=w*(y0+(y0=lambda));Z1+=w*(z0+(z0=phi));centroidPointCartesian(x0,y0,z0)}function geoMethod(methodName,globalMethod){return function(projection,geojson,group){return projection?(projection=getScale(projection,(group||this).context))&&projection.path[methodName](geojson):globalMethod(geojson)}}function inScope(item){const group=
this.context.group;let value=!1;if(group)for(;item;){if(item===group){value=!0;break}item=item.mark.group}return value}function log(df,method,args){try{df[method].apply(df,["EXPRESSION"].concat([].slice.call(args)))}catch(err){df.warn(err)}return args[args.length-1]}function warn(){return log(this.context.dataflow,"warn",arguments)}function info(){return log(this.context.dataflow,"info",arguments)}function debug(){return log(this.context.dataflow,"debug",arguments)}function define(constructor,factory,
prototype){constructor.prototype=factory.prototype=prototype;prototype.constructor=constructor}function extend(parent,definition){parent=Object.create(parent.prototype);for(var key in definition)parent[key]=definition[key];return parent}function Color(){}function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color$jscomp$0(format){var m,l;format=(format+"").trim().toLowerCase();return(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],
16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|m&240,(m&15)<<4|m&15,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(m&255)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|m&240,((m&15)<<4|m&15)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?
hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,n&255,1)}function rgba(r,g,b,a){0>=a&&(r=g=b=NaN);return new Rgb(r,g,b,a)}function rgbConvert(o){o instanceof Color||(o=color$jscomp$0(o));if(!o)return new Rgb;o=o.rgb();return new Rgb(o.r,o.g,o.b,o.opacity)}function rgb(r,g,b,opacity){return 1===arguments.length?
rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r;this.g=+g;this.b=+b;this.opacity=+opacity}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function hex(value){value=
Math.max(0,Math.min(255,Math.round(value)||0));return(16>value?"0":"")+value.toString(16)}function hsla(h,s,l,a){0>=a?h=s=l=NaN:0>=l||1<=l?h=s=NaN:0>=s&&(h=NaN);return new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);o instanceof Color||(o=color$jscomp$0(o));if(!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var r=o.r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;s?(h=r===max?(g-b)/s+6*(g<b):
g===max?(b-r)/s+2:(r-g)/s+4,s/=.5>l?max+min:2-max-min,h*=60):s=0<l&&1>l?0:h;return new Hsl(h,s,l,o.opacity)}function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h;this.s=+s;this.l=+l;this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(60>h?m1+(m2-m1)*h/60:180>h?m2:240>h?m1+(m2-m1)*(240-h)/60:m1)}function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);
o instanceof Rgb||(o=rgbConvert(o));var r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab(.2225045*r+.7168786*g+.0606169*b);if(r===g&&g===b)var x=r=y;else x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/.96422),r=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/.82521);return new Lab(116*y-16,500*(x-y),200*(y-r),o.opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l;this.a=+a;this.b=+b;this.opacity=
+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(.0031308>=x?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return.04045>=(x/=255)?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);o instanceof Lab||(o=labConvert(o));if(0===o.a&&0===o.b)return new Hcl(NaN,0<o.l&&100>o.l?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*degrees;
return new Hcl(0>h?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h;this.c=+c;this.l=+l;this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*radians;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}function channel_luminance_value(channelValue){channelValue/=255;return.03928>=channelValue?channelValue/
12.92:Math.pow((channelValue+.055)/1.055,2.4)}function luminance(color){var c=rgb(color);color=channel_luminance_value(c.r);const g=channel_luminance_value(c.g);c=channel_luminance_value(c.b);return.2126*color+.7152*g+.0722*c}function contrast(color1,color2){color1=luminance(color1);color2=luminance(color2);return(Math.max(color1,color2)+.05)/(Math.min(color1,color2)+.05)}function merge(){const args=[].slice.call(arguments);args.unshift({});return vegaUtil.extend(...args)}function equal(a,b){if(a===
b||a!==a&&b!==b)a=!0;else if(vegaUtil.isArray(a))if(vegaUtil.isArray(b)&&a.length===b.length)a:{for(let i=0,n=a.length;i<n;++i)if(!equal(a[i],b[i])){a=!1;break a}a=!0}else a=!1;else a=vegaUtil.isObject(a)&&vegaUtil.isObject(b)?equalObject(a,b):!1;return a}function equalObject(a,b){for(const key in a)if(!equal(a[key],b[key]))return!1;return!0}function removePredicate(props){return _=>equalObject(props,_)}function modify$jscomp$0(name,insert,remove,toggle,modify,values){const df=this.context.dataflow,
data=this.context.data[name],input=data.input;name=df.stamp();let changes=data.changes,key;if(!1===df._trigger||!(input.value.length||insert||toggle))return 0;if(!changes||changes.stamp<name)data.changes=changes=df.changeset(),changes.stamp=name,df.runAfter(()=>{data.modified=!0;df.pulse(input,changes).run()},!0,1);remove&&(remove=!0===remove?vegaUtil.truthy:vegaUtil.isArray(remove)||vegaDataflow.isTuple(remove)?remove:removePredicate(remove),changes.remove(remove));insert&&changes.insert(insert);
toggle&&(remove=removePredicate(toggle),input.value.some(remove)?changes.remove(remove):changes.insert(toggle));if(modify)for(key in values)changes.modify(modify,key,values[key]);return 1}function pinchDistance(event){var t=event.touches;event=t[0].clientX-t[1].clientX;t=t[0].clientY-t[1].clientY;return Math.sqrt(event*event+t*t)}function pinchAngle(event){event=event.touches;return Math.atan2(event[0].clientY-event[1].clientY,event[0].clientX-event[1].clientX)}function pluck(data,name){name=accessors[name]||
(accessors[name]=vegaUtil.field(name));return vegaUtil.isArray(data)?data.map(name):name(data)}function array(seq){return vegaUtil.isArray(seq)||ArrayBuffer.isView(seq)?seq:null}function sequence(seq){return array(seq)||(vegaUtil.isString(seq)?seq:null)}function join(seq,...args){return array(seq).join(...args)}function indexof(seq,...args){return sequence(seq).indexOf(...args)}function lastindexof(seq,...args){return sequence(seq).lastIndexOf(...args)}function slice(seq,...args){return sequence(seq).slice(...args)}
function replace(str,pattern,repl){vegaUtil.isFunction(repl)&&vegaUtil.error("Function argument passed to replace.");return String(str).replace(pattern,repl)}function reverse(seq){return array(seq).slice().reverse()}function bandspace(count,paddingInner,paddingOuter){return vegaScale.bandSpace(count||0,paddingInner||0,paddingOuter||0)}function bandwidth(name,group){return(name=getScale(name,(group||this).context))&&name.bandwidth?name.bandwidth():0}function copy(name,group){return(name=getScale(name,
(group||this).context))?name.copy():void 0}function domain(name,group){return(name=getScale(name,(group||this).context))?name.domain():[]}function invert(name,range,group){return(name=getScale(name,(group||this).context))?vegaUtil.isArray(range)?(name.invertRange||name.invert)(range):(name.invert||name.invertExtent)(range):void 0}function range$jscomp$0(name,group){return(name=getScale(name,(group||this).context))&&name.range?name.range():[]}function scale$jscomp$0(name,value,group){return(name=getScale(name,
(group||this).context))?name(value):void 0}function scaleGradient(scale,p0,p1,count,group){scale=getScale(scale,(group||this).context);const gradient=vegaScenegraph.Gradient(p0,p1);p0=scale.domain();p1=p0[0];group=vegaUtil.peek(p0);let fraction=vegaUtil.identity;group-p1?fraction=vegaScale.scaleFraction(scale,p1,group):scale=(scale.interpolator?vegaScale.scale("sequential")().interpolator(scale.interpolator()):vegaScale.scale("linear")().interpolate(scale.interpolate()).range(scale.range())).domain([p1=
0,group=1]);scale.ticks&&(p0=scale.ticks(+count||15),p1!==p0[0]&&p0.unshift(p1),group!==vegaUtil.peek(p0)&&p0.push(group));p0.forEach(_=>gradient.stop(fraction(_),scale(_)));return gradient}function geoShape(projection,geojson,group){const p=getScale(projection,(group||this).context);return function(context){return p?p.path.context(context)(geojson):""}}function pathShape(path){let p=null;return function(context){return context?vegaScenegraph.pathRender(context,p=p||vegaScenegraph.pathParse(path)):
path}}function treeNodes(name,context){name=data$jscomp$0.call(context,name);return name.root&&name.root.lookup||{}}function treePath(name,source,target){name=treeNodes(name,this);source=name[source];target=name[target];return source&&target?source.path(target).map(datum):void 0}function treeAncestors(name,node){return(name=treeNodes(name,this)[node])?name.ancestors().map(datum):void 0}function screen(){const w="undefined"!==typeof window&&window||null;return w?w.screen:{}}function windowSize(){const w=
"undefined"!==typeof window&&window||null;return w?[w.innerWidth,w.innerHeight]:[void 0,void 0]}function containerSize(){var view=this.context.dataflow;return(view=view.container&&view.container())?[view.clientWidth,view.clientHeight]:[void 0,void 0]}function intersect(b,opt,group){if(!b)return[];const [u,v]=b;b=(new vegaScenegraph.Bounds).set(u[0],u[1],v[0],v[1]);group=group||this.context.dataflow.scenegraph().root;return vegaScenegraph.intersect(group,b,filter(opt))}function filter(opt){let p=null;
if(opt){const types=vegaUtil.array(opt.marktype),names=vegaUtil.array(opt.markname);p=_=>(!types.length||types.some(t=>_.marktype===t))&&(!names.length||names.some(s=>_.name===s))}return p}function expressionFunction(name,fn,visitor){if(1===arguments.length)return functionContext[name];functionContext[name]=fn;visitor&&(astVisitors[name]=visitor);codeGenerator&&(codeGenerator.functions[name]="this."+name);return this}const wrap=method=>function(value,spec){return this.context.dataflow.locale()[method](spec)(value)},
format$jscomp$0=wrap("format"),timeFormat=wrap("timeFormat"),utcFormat=wrap("utcFormat"),timeParse=wrap("timeParse"),utcParse=wrap("utcParse"),dateObj=new Date(2E3,0,1);class Adder{constructor(){this._partials=new Float64Array(32);this._n=0}add(x){const p=this._partials;let i=0;for(let j=0;j<this._n&&32>j;j++){const y=p[j],hi=x+y;(x=Math.abs(x)<Math.abs(y)?x-(hi-y):y-(hi-x))&&(p[i++]=x);x=hi}p[i]=x;this._n=i+1;return this}valueOf(){const p=this._partials;let n=this._n;let y,hi=0;if(0<n){for(hi=p[--n];0<
n;){var x=hi;y=p[--n];hi=x+y;if(x=y-(hi-x))break}0<n&&(0>x&&0>p[n-1]||0<x&&0<p[n-1])&&(y=2*x,x=hi+y,y==x-hi&&(hi=x))}return hi}}var pi=Math.PI,halfPi=pi/2,quarterPi=pi/4,tau=2*pi,degrees$1=180/pi,radians$1=pi/180,abs=Math.abs,atan2=Math.atan2,cos=Math.cos,hypot=Math.hypot,sin=Math.sin,sqrt=Math.sqrt,streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){object=object.features;for(var i=-1,n=object.length;++i<n;)streamGeometry(object[i].geometry,
stream)}},streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates;stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){object=object.coordinates;for(var i=
-1,n=object.length;++i<n;)streamLine(object[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){object=object.coordinates;for(var i=-1,n=object.length;++i<n;)streamPolygon(object[i],stream)},GeometryCollection:function(object,stream){object=object.geometries;for(var i=-1,n=object.length;++i<n;)streamGeometry(object[i],stream)}},areaRingSum=new Adder,areaSum=new Adder,lambda00$2,phi00$2,lambda0$1,cosPhi0,sinPhi0,areaStream={point:noop,
lineStart:noop,lineEnd:noop,polygonStart:function(){areaRingSum=new Adder;areaStream.lineStart=areaRingStart;areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var areaRing=+areaRingSum;areaSum.add(0>areaRing?tau+areaRing:areaRing);this.lineStart=this.lineEnd=this.point=noop},sphere:function(){areaSum.add(tau)}},lambda0$jscomp$0,phi0,lambda1$jscomp$0,phi1,lambda2,lambda00$1,phi00$1,p0$jscomp$0,deltaSum,ranges,range$1,boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,
polygonStart:function(){boundsStream.point=boundsRingPoint;boundsStream.lineStart=boundsRingStart;boundsStream.lineEnd=boundsRingEnd;deltaSum=new Adder;areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd();boundsStream.point=boundsPoint;boundsStream.lineStart=boundsLineStart;boundsStream.lineEnd=boundsLineEnd;0>areaRingSum?(lambda0$jscomp$0=-(lambda1$jscomp$0=180),phi0=-(phi1=90)):1E-6<deltaSum?phi1=90:-1E-6>deltaSum&&(phi0=-90);range$1[0]=lambda0$jscomp$0;range$1[1]=lambda1$jscomp$0},
sphere:function(){lambda0$jscomp$0=-(lambda1$jscomp$0=180);phi0=-(phi1=90)}},W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,lambda00,phi00,x0,y0,z0,centroidStream={sphere:noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart;centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart;centroidStream.lineEnd=centroidLineEnd}};const geoArea=geoMethod("area",function(object){areaSum=
new Adder;geoStream(object,areaStream);return 2*areaSum}),geoBounds=geoMethod("bounds",function(feature){var n,merged,delta;phi1=lambda1$jscomp$0=-(lambda0$jscomp$0=phi0=Infinity);ranges=[];geoStream(feature,boundsStream);if(n=ranges.length){ranges.sort(rangeCompare);feature=1;var a=ranges[0];for(merged=[a];feature<n;++feature){var b=ranges[feature];rangeContains(a,b[0])||rangeContains(a,b[1])?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=
b)}var deltaMax=-Infinity;n=merged.length-1;feature=0;for(a=merged[n];feature<=n;a=b,++feature)b=merged[feature],(delta=angle(a[1],b[0]))>deltaMax&&(deltaMax=delta,lambda0$jscomp$0=b[0],lambda1$jscomp$0=a[1])}ranges=range$1=null;return Infinity===lambda0$jscomp$0||Infinity===phi0?[[NaN,NaN],[NaN,NaN]]:[[lambda0$jscomp$0,phi0],[lambda1$jscomp$0,phi1]]}),geoCentroid=geoMethod("centroid",function(object){W0=W1=X0=Y0=Z0=X1=Y1=Z1=0;X2=new Adder;Y2=new Adder;Z2=new Adder;geoStream(object,centroidStream);
object=+X2;var y=+Y2,z=+Z2,m=hypot(object,y,z);return 1E-12>m&&(object=X1,y=Y1,z=Z1,1E-6>W1&&(object=X0,y=Y0,z=Z0),m=hypot(object,y,z),1E-12>m)?[NaN,NaN]:[atan2(y,object)*degrees$1,asin(z/m)*degrees$1]});var brighter=1/.7,reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),reRgbPercent=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
reRgbaInteger=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),reRgbaPercent=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),reHslPercent=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
reHslaPercent=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$jscomp$0,{copy:function(channels){return Object.assign(new this.constructor,this,channels)},displayable:function(){return this.rgb().displayable()},
hex:color_formatHex,formatHex:color_formatHex,formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb});define(Rgb,rgb,extend(Color,{brighter:function(k){k=null==k?brighter:Math.pow(brighter,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){k=null==k?.7:Math.pow(.7,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&
255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));define(Hsl,hsl,extend(Color,{brighter:function(k){k=null==k?brighter:Math.pow(brighter,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){k=null==k?.7:Math.pow(.7,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(0>this.h),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l;
s=l+(.5>l?l:1-l)*s;l=2*l-s;return new Rgb(hsl2rgb(240<=h?h-240:h+120,l,s),hsl2rgb(h,l,s),hsl2rgb(120>h?h+240:h-120,l,s),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));const radians=Math.PI/180,degrees=180/Math.PI,t0=
4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;define(Lab,lab,extend(Color,{brighter:function(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;x=.96422*lab2xyz(x);y=1*lab2xyz(y);z=.82521*lab2xyz(z);return new Rgb(lrgb2rgb(3.1338561*x-1.6168667*y-.4906146*z),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*
x-.2289914*y+1.4052427*z),this.opacity)}}));define(Hcl,hcl,extend(Color,{brighter:function(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));const accessors={},datum=d=>d.data,functionContext={random(){return vegaStatistics.random()},cumulativeNormal:vegaStatistics.cumulativeNormal,cumulativeLogNormal:vegaStatistics.cumulativeLogNormal,cumulativeUniform:vegaStatistics.cumulativeUniform,
densityNormal:vegaStatistics.densityNormal,densityLogNormal:vegaStatistics.densityLogNormal,densityUniform:vegaStatistics.densityUniform,quantileNormal:vegaStatistics.quantileNormal,quantileLogNormal:vegaStatistics.quantileLogNormal,quantileUniform:vegaStatistics.quantileUniform,sampleNormal:vegaStatistics.sampleNormal,sampleLogNormal:vegaStatistics.sampleLogNormal,sampleUniform:vegaStatistics.sampleUniform,isArray:vegaUtil.isArray,isBoolean:vegaUtil.isBoolean,isDate:vegaUtil.isDate,isDefined(_){return void 0!==
_},isNumber:vegaUtil.isNumber,isObject:vegaUtil.isObject,isRegExp:vegaUtil.isRegExp,isString:vegaUtil.isString,isTuple:vegaDataflow.isTuple,isValid(_){return null!=_&&_===_},toBoolean:vegaUtil.toBoolean,toDate(_){return vegaUtil.toDate(_)},toNumber:vegaUtil.toNumber,toString:vegaUtil.toString,indexof,join,lastindexof,replace,reverse,slice,flush:vegaUtil.flush,lerp:vegaUtil.lerp,merge,pad:vegaUtil.pad,peek:vegaUtil.peek,pluck,span:vegaUtil.span,inrange:vegaUtil.inrange,truncate:vegaUtil.truncate,rgb,
lab,hcl,hsl,luminance,contrast,sequence:function(start,stop,step){start=+start;stop=+stop;step=2>(n=arguments.length)?(stop=start,start=0,1):3>n?1:+step;for(var i=-1,n=Math.max(0,Math.ceil((stop-start)/step))|0,range=Array(n);++i<n;)range[i]=start+i*step;return range},format:format$jscomp$0,utcFormat,utcParse,utcOffset:vegaTime.utcOffset,utcSequence:vegaTime.utcSequence,timeFormat,timeParse,timeOffset:vegaTime.timeOffset,timeSequence:vegaTime.timeSequence,timeUnitSpecifier:vegaTime.timeUnitSpecifier,
monthFormat,monthAbbrevFormat,dayFormat,dayAbbrevFormat,quarter:vegaUtil.quarter,utcquarter:vegaUtil.utcquarter,week:vegaTime.week,utcweek:vegaTime.utcweek,dayofyear:vegaTime.dayofyear,utcdayofyear:vegaTime.utcdayofyear,warn,info,debug,extent(_){return vegaUtil.extent(_)},inScope,intersect,clampRange:vegaUtil.clampRange,pinchDistance,pinchAngle,screen,containerSize,windowSize,bandspace,setdata,pathShape,panLinear:vegaUtil.panLinear,panLog:vegaUtil.panLog,panPow:vegaUtil.panPow,panSymlog:vegaUtil.panSymlog,
zoomLinear:vegaUtil.zoomLinear,zoomLog:vegaUtil.zoomLog,zoomPow:vegaUtil.zoomPow,zoomSymlog:vegaUtil.zoomSymlog,encode,modify:modify$jscomp$0,lassoAppend:function(lasso,x,y,minDist=5){const last=lasso[lasso.length-1];return void 0===last||Math.sqrt((last[0]-x)**2+(last[1]-y)**2)>minDist?(lasso.push([x,y]),[...lasso]):lasso},lassoPath:function(lasso){return(lasso??[]).reduce((svg,[x,y],i)=>svg+(0==i?`M ${x},${y} `:i===lasso.length-1?" Z":`L ${x},${y} `),"")},intersectLasso:function(markname,pixelLasso,
unit){const {x:x$jscomp$0,y:y$jscomp$0,mark}=unit;unit=(new vegaScenegraph.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [px,py]of pixelLasso)px<unit.x1&&(unit.x1=px),px>unit.x2&&(unit.x2=px),py<unit.y1&&(unit.y1=py),py>unit.y2&&(unit.y2=py);unit.translate(x$jscomp$0,y$jscomp$0);return intersect([[unit.x1,unit.y1],[unit.x2,unit.y2]],markname,mark).filter(tuple=>{var testy=tuple.y;let intersections=0;for(let i=0,j=pixelLasso.length-
1;i<pixelLasso.length;j=i++){const [prevX,prevY]=pixelLasso[j],[x,y]=pixelLasso[i];y>testy!=prevY>testy&&tuple.x<(prevX-x)*(testy-y)/(prevY-y)+x&&intersections++}return intersections&1})}},eventFunctions="view item group xy x y".split(" "),astVisitors={},codegenParams={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:id=>`_[${vegaUtil.stringValue("$"+id)}]`,functions:function(codegen){const fn=vegaExpression.functions(codegen);eventFunctions.forEach(name=>fn[name]="event.vega."+
name);for(const name in functionContext)fn[name]="this."+name;vegaUtil.extend(fn,internalScaleFunctions(codegen,functionContext,astVisitors));return fn},constants:vegaExpression.constants,visitors:astVisitors},codeGenerator=vegaExpression.codegenExpression(codegenParams);expressionFunction("bandwidth",bandwidth,scaleVisitor);expressionFunction("copy",copy,scaleVisitor);expressionFunction("domain",domain,scaleVisitor);expressionFunction("range",range$jscomp$0,scaleVisitor);expressionFunction("invert",
invert,scaleVisitor);expressionFunction("scale",scale$jscomp$0,scaleVisitor);expressionFunction("gradient",scaleGradient,scaleVisitor);expressionFunction("geoArea",geoArea,scaleVisitor);expressionFunction("geoBounds",geoBounds,scaleVisitor);expressionFunction("geoCentroid",geoCentroid,scaleVisitor);expressionFunction("geoShape",geoShape,scaleVisitor);expressionFunction("indata",indata,indataVisitor);expressionFunction("data",data$jscomp$0,dataVisitor);expressionFunction("treePath",treePath,dataVisitor);
expressionFunction("treeAncestors",treeAncestors,dataVisitor);expressionFunction("vlSelectionTest",vegaSelections.selectionTest,vegaSelections.selectionVisitor);expressionFunction("vlSelectionIdTest",vegaSelections.selectionIdTest,vegaSelections.selectionVisitor);expressionFunction("vlSelectionResolve",vegaSelections.selectionResolve,vegaSelections.selectionVisitor);expressionFunction("vlSelectionTuples",vegaSelections.selectionTuples);exports.DataPrefix=":";exports.IndexPrefix="@";exports.ScalePrefix=
"%";exports.SignalPrefix="$";exports.bandspace=bandspace;exports.bandwidth=bandwidth;exports.codeGenerator=codeGenerator;exports.codegenParams=codegenParams;exports.containerSize=containerSize;exports.contrast=contrast;exports.copy=copy;exports.data=data$jscomp$0;exports.dataVisitor=dataVisitor;exports.dayAbbrevFormat=dayAbbrevFormat;exports.dayFormat=dayFormat;exports.debug=debug;exports.domain=domain;exports.encode=encode;exports.expressionFunction=expressionFunction;exports.format=format$jscomp$0;
exports.functionContext=functionContext;exports.geoArea=geoArea;exports.geoBounds=geoBounds;exports.geoCentroid=geoCentroid;exports.geoShape=geoShape;exports.inScope=inScope;exports.indata=indata;exports.indataVisitor=indataVisitor;exports.indexof=indexof;exports.info=info;exports.invert=invert;exports.join=join;exports.lastindexof=lastindexof;exports.luminance=luminance;exports.merge=merge;exports.modify=modify$jscomp$0;exports.monthAbbrevFormat=monthAbbrevFormat;exports.monthFormat=monthFormat;
exports.parseExpression=function(expr,scope){const params={};let ast;try{expr=vegaUtil.isString(expr)?expr:vegaUtil.stringValue(expr)+"",ast=vegaExpression.parseExpression(expr)}catch(err){vegaUtil.error("Expression parse error: "+expr)}ast.visit(node=>{if(node.type===vegaExpression.CallExpression){var name=node.callee.name,visit=codegenParams.visitors[name];visit&&visit(name,node.arguments,scope,params)}});expr=codeGenerator(ast);expr.globals.forEach(name=>{const signalName="$"+name;!vegaUtil.hasOwnProperty(params,
signalName)&&scope.getSignal(name)&&(params[signalName]=scope.signalRef(name))});return{$expr:vegaUtil.extend({code:expr.code},scope.options.ast?{ast}:null),$fields:expr.fields,$params:params}};exports.pathShape=pathShape;exports.pinchAngle=pinchAngle;exports.pinchDistance=pinchDistance;exports.pluck=pluck;exports.range=range$jscomp$0;exports.replace=replace;exports.reverse=reverse;exports.scale=scale$jscomp$0;exports.scaleGradient=scaleGradient;exports.scaleVisitor=scaleVisitor;exports.screen=screen;
exports.setdata=setdata;exports.slice=slice;exports.timeFormat=timeFormat;exports.timeParse=timeParse;exports.treeAncestors=treeAncestors;exports.treePath=treePath;exports.utcFormat=utcFormat;exports.utcParse=utcParse;exports.warn=warn;exports.windowSize=windowSize;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_functions$build$vega_functions.js.map
