shadow$provide.module$node_modules$vega_scale$build$vega_scale=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$vega_util$build$vega_util"),require("module$node_modules$vega_time$build$vega_time")):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],factory):(global="undefined"!==typeof globalThis?globalThis:global||
self,factory(global.vega={},global.vega,global.vega))})(this,function(exports,vegaUtil,vegaTime){function bandSpace(count,paddingInner,paddingOuter){paddingInner=count-paddingInner+2*paddingOuter;return count?0<paddingInner?paddingInner:1:0}function invertRange(scale){return function(_){let lo=_[0];_=_[1];let t;_<lo&&(t=lo,lo=_,_=t);return[scale.invert(lo),scale.invert(_)]}}function invertRangeExtent(scale){return function(_){const range=scale.range();let lo=_[0];_=_[1];let min=-1,max;let n;if(_<
lo){var t=lo;lo=_;_=t}t=0;for(n=range.length;t<n;++t)range[t]>=lo&&range[t]<=_&&(0>min&&(min=t),max=t);if(!(0>min))return lo=scale.invertExtent(range[min]),_=scale.invertExtent(range[max]),[void 0===lo[0]?lo[1]:lo[0],void 0===_[1]?_[0]:_[1]]}}function ascending$1(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function bisector(f){function left(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;0>compare2(a[mid],x)?lo=mid+1:hi=mid}while(lo<hi)}return lo}
let delta=f,compare1=f,compare2=f;2!==f.length&&(delta=(d,x)=>f(d)-x,compare1=ascending$1,compare2=(d,x)=>ascending$1(f(d),x));return{left,center:function(a,x,lo=0,hi=a.length){hi=left(a,x,lo,hi-1);return hi>lo&&delta(a[hi-1],x)>-delta(a[hi],x)?hi-1:hi},right:function(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;0>=compare2(a[mid],x)?lo=mid+1:hi=mid}while(lo<hi)}return lo}}}function number$2(x){return null===x?NaN:+x}function intern_get({_intern,_key},value){_key=
_key(value);return _intern.has(_key)?_intern.get(_key):value}function intern_set({_intern,_key},value){_key=_key(value);if(_intern.has(_key))return _intern.get(_key);_intern.set(_key,value);return value}function intern_delete({_intern,_key},value){_key=_key(value);_intern.has(_key)&&(value=_intern.get(_key),_intern.delete(_key));return value}function keyof(value){return null!==value&&"object"===typeof value?value.valueOf():value}function ticks(start,stop,count){var reverse,i=-1,step;stop=+stop;start=
+start;count=+count;if(start===stop&&0<count)return[start];if(reverse=stop<start){var n=start;start=stop;stop=n}if(0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(0<step)for(count=Math.round(start/step),n=Math.round(stop/step),count*step<start&&++count,n*step>stop&&--n,start=Array(n=n-count+1);++i<n;)start[i]=(count+i)*step;else for(step=-step,count=Math.round(start*step),n=Math.round(stop*step),count/step<start&&++count,n/step>stop&&--n,start=Array(n=n-count+1);++i<n;)start[i]=
(count+i)/step;reverse&&start.reverse();return start}function tickIncrement(start,stop,count){stop=(stop-start)/Math.max(0,count);start=Math.floor(Math.log(stop)/Math.LN10);stop/=Math.pow(10,start);return 0<=start?(stop>=e10?10:stop>=e5?5:stop>=e2?2:1)*Math.pow(10,start):-Math.pow(10,-start)/(stop>=e10?10:stop>=e5?5:stop>=e2?2:1)}function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count);count=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10));step0/=count;step0>=e10?count*=
10:step0>=e5?count*=5:step0>=e2&&(count*=2);return stop<start?-count:count}function quantileSorted(values,p,valueof=number$2){if(n=values.length){if(0>=(p=+p)||2>n)return+valueof(values[0],0,values);if(1<=p)return+valueof(values[n-1],n-1,values);var n;p*=n-1;n=Math.floor(p);var value0=+valueof(values[n],n,values);values=+valueof(values[n+1],n+1,values);return value0+(values-value0)*(p-n)}}function range$jscomp$0(start,stop,step){start=+start;stop=+stop;step=2>(n=arguments.length)?(stop=start,start=
0,1):3>n?1:+step;for(var i=-1,n=Math.max(0,Math.ceil((stop-start)/step))|0,range=Array(n);++i<n;)range[i]=start+i*step;return range}function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}function initInterpolator(domain,interpolator){switch(arguments.length){case 0:break;case 1:"function"===typeof domain?this.interpolator(domain):this.range(domain);break;default:this.domain(domain),"function"===typeof interpolator?
this.interpolator(interpolator):this.range(interpolator)}return this}function ordinal(){function scale(d){let i=index.get(d);if(void 0===i){if(unknown!==implicit)return unknown;index.set(d,i=domain.push(d)-1)}return range[i%range.length]}var index=new InternMap,domain=[],range=[],unknown=implicit;scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];index=new InternMap;for(const value of _)index.has(value)||index.set(value,domain.push(value)-1);return scale};scale.range=function(_){return arguments.length?
(range=Array.from(_),scale):range.slice()};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.copy=function(){return ordinal(domain,range).unknown(unknown)};initRange.apply(scale,arguments);return scale}function define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype;prototype.constructor=constructor}function extend(parent,definition){parent=Object.create(parent.prototype);for(var key in definition)parent[key]=definition[key];return parent}
function Color(){}function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color$jscomp$0(format){var m,l;format=(format+"").trim().toLowerCase();return(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|m&240,(m&15)<<4|m&15,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(m&255)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|m&240,((m&15)<<4|m&15)/255):null):(m=reRgbInteger.exec(format))?
new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>
16&255,n>>8&255,n&255,1)}function rgba(r,g,b,a){0>=a&&(r=g=b=NaN);return new Rgb(r,g,b,a)}function rgbConvert(o){o instanceof Color||(o=color$jscomp$0(o));if(!o)return new Rgb;o=o.rgb();return new Rgb(o.r,o.g,o.b,o.opacity)}function rgb$1(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r;this.g=+g;this.b=+b;this.opacity=+opacity}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a=
this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function hex(value){value=Math.max(0,Math.min(255,Math.round(value)||0));return(16>value?"0":"")+value.toString(16)}function hsla(h,s,l,a){0>=a?h=s=l=NaN:0>=l||1<=l?h=s=NaN:0>=s&&(h=NaN);return new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof
Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);o instanceof Color||(o=color$jscomp$0(o));if(!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var r=o.r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=.5>l?max+min:2-max-min,h*=60):s=0<l&&1>l?0:h;return new Hsl(h,s,l,o.opacity)}function hsl$2(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,
s,l,opacity){this.h=+h;this.s=+s;this.l=+l;this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(60>h?m1+(m2-m1)*h/60:180>h?m2:240>h?m1+(m2-m1)*(240-h)/60:m1)}function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof Rgb||(o=rgbConvert(o));var r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab(.2225045*r+.7168786*g+.0606169*b);if(r===g&&g===b)var x=r=y;else x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/.96422),r=
xyz2lab((.0139322*r+.0971045*g+.7141733*b)/.82521);return new Lab(116*y-16,500*(x-y),200*(y-r),o.opacity)}function lab$1(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l;this.a=+a;this.b=+b;this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0$1}function lab2xyz(t){return t>t1$1?t*t*t:t2*(t-t0$1)}function lrgb2rgb(x){return 255*(.0031308>=x?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return.04045>=
(x/=255)?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);o instanceof Lab||(o=labConvert(o));if(0===o.a&&0===o.b)return new Hcl(NaN,0<o.l&&100>o.l?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*degrees$1;return new Hcl(0>h?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl$2(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h;this.c=+c;
this.l=+l;this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*radians;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}function cubehelix$2(h,s,l$jscomp$0,opacity){if(1===arguments.length){var JSCompiler_temp=h;if(JSCompiler_temp instanceof Cubehelix)JSCompiler_temp=new Cubehelix(JSCompiler_temp.h,JSCompiler_temp.s,JSCompiler_temp.l,JSCompiler_temp.opacity);else{JSCompiler_temp instanceof Rgb||(JSCompiler_temp=rgbConvert(JSCompiler_temp));
var g=JSCompiler_temp.g/255,b=JSCompiler_temp.b/255,l=(BC_DA*b+JSCompiler_temp.r/255*-1.7884503806-3.5172982438*g)/(BC_DA+-1.7884503806-3.5172982438);b-=l;var k=(1.97294*(g-l)- -.29227*b)/-.90649;b=(g=Math.sqrt(k*k+b*b)/(1.97294*l*(1-l)))?Math.atan2(k,b)*degrees$1-120:NaN;JSCompiler_temp=new Cubehelix(0>b?b+360:b,g,l,JSCompiler_temp.opacity)}}else JSCompiler_temp=new Cubehelix(h,s,l$jscomp$0,null==opacity?1:opacity);return JSCompiler_temp}function Cubehelix(h,s,l,opacity){this.h=+h;this.s=+s;this.l=
+l;this.opacity=+opacity}function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}function basis$1(values){var n=values.length-1;return function(t){var i=0>=t?t=0:1<=t?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1];return basis((t-i/n)*n,0<i?values[i-1]:2*v1-v2,v1,v2,i<n-1?values[i+2]:2*v2-v1)}}function basisClosed(values){var n=values.length;return function(t){var i=Math.floor((0>(t%=1)?++t:t)*n);return basis((t-i/n)*n,
values[(i+n-1)%n],values[i%n],values[(i+1)%n],values[(i+2)%n])}}function linear$1(a,d){return function(t){return a+t*d}}function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}function hue$1(a,b){var d=b-a;return d?linear$1(a,180<d||-180>d?d-360*Math.round(d/360):d):constant(isNaN(a)?b:a)}function gamma(y){return 1===(y=+y)?nogamma:function(a,b){return b-a?exponential(a,b,y):constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear$1(a,
d):constant(isNaN(a)?b:a)}function rgbSpline(spline){return function(colors){var n=colors.length,r=Array(n),g=Array(n),b=Array(n),i;for(i=0;i<n;++i){var color=rgb$1(colors[i]);r[i]=color.r||0;g[i]=color.g||0;b[i]=color.b||0}r=spline(r);g=spline(g);b=spline(b);color.opacity=1;return function(t){color.r=r(t);color.g=g(t);color.b=b(t);return color+""}}}function numberArray(a,b){b||(b=[]);var n=a?Math.min(b.length,a.length):0,c=b.slice(),i;return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}
function isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function genericArray(a,b){var nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=Array(na),c=Array(nb),i;for(i=0;i<na;++i)x[i]=interpolate$1(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date$1(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,
b){var i={},c={},k;if(null===a||"object"!==typeof a)a={};if(null===b||"object"!==typeof b)b={};for(k in b)k in a?i[k]=interpolate$1(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}function zero$jscomp$0(b){return function(){return b}}function one(b){return function(t){return b(t)+""}}function string$jscomp$0(a,b){var bi=reA.lastIndex=reB.lastIndex=0,am,bm,bs,i$jscomp$0=-1,s=[],q=[];a+="";for(b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i$jscomp$0]?
s[i$jscomp$0]+=bs:s[++i$jscomp$0]=bs),(am=am[0])===(bm=bm[0])?s[i$jscomp$0]?s[i$jscomp$0]+=bm:s[++i$jscomp$0]=bm:(s[++i$jscomp$0]=null,q.push({i:i$jscomp$0,x:interpolateNumber(am,bm)})),bi=reB.lastIndex;bi<b.length&&(bs=b.slice(bi),s[i$jscomp$0]?s[i$jscomp$0]+=bs:s[++i$jscomp$0]=bs);return 2>s.length?q[0]?one(q[0].x):zero$jscomp$0(b):(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function interpolate$1(a,b){var t=typeof b,c;return null==b||"boolean"===t?constant(b):
("number"===t?interpolateNumber:"string"===t?(c=color$jscomp$0(b))?(b=c,rgb):string$jscomp$0:b instanceof color$jscomp$0?rgb:b instanceof Date?date$1:isNumberArray(b)?numberArray:Array.isArray(b)?genericArray:"function"!==typeof b.valueOf&&"function"!==typeof b.toString||isNaN(b)?object:interpolateNumber)(a,b)}function interpolateRound(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;if(scaleX=Math.sqrt(a*a+b*b))a/=scaleX,b/=
scaleX;if(skewX=a*c+b*d)c-=a*skewX,d-=b*skewX;if(scaleY=Math.sqrt(c*c+d*d))c/=scaleY,d/=scaleY,skewX/=scaleY;a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX);return{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX,scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}function translate(xa,ya,xb,yb,s,q){xa!==xb||ya!==yb?(s=s.push("translate(",null,pxComma,null,pxParen),q.push({i:s-4,x:interpolateNumber(xa,
xb)},{i:s-2,x:interpolateNumber(ya,yb)})):(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}function rotate(a,b,s,q){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:interpolateNumber(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:interpolateNumber(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}function scale(xa,ya,xb,yb,s,q){xa!==xb||ya!==yb?(s=s.push(pop(s)+"scale(",null,
",",null,")"),q.push({i:s-4,x:interpolateNumber(xa,xb)},{i:s-2,x:interpolateNumber(ya,yb)})):1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}return function(a,b){var s=[],q=[];a=parse(a);b=parse(b);translate(a.translateX,a.translateY,b.translateX,b.translateY,s,q);rotate(a.rotate,b.rotate,s,q);skewX(a.skewX,b.skewX,s,q);scale(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q);a=b=null;return function(t){for(var i=-1,n=q.length,o;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}function cosh(x){return((x=
Math.exp(x))+1/x)/2}function hsl(hue){return function(start,end){var h=hue((start=hsl$2(start)).h,(end=hsl$2(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){start.h=h(t);start.s=s(t);start.l=l(t);start.opacity=opacity(t);return start+""}}}function hcl(hue){return function(start,end){var h=hue((start=hcl$2(start)).h,(end=hcl$2(end)).h),c=nogamma(start.c,end.c),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);
return function(t){start.h=h(t);start.c=c(t);start.l=l(t);start.opacity=opacity(t);return start+""}}}function cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=cubehelix$2(start)).h,(end=cubehelix$2(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){start.h=h(t);start.s=s(t);start.l=l(Math.pow(t,y));start.opacity=opacity(t);return start+""}}y=+y;cubehelix.gamma=cubehelixGamma;return cubehelix}(1)}
function piecewise(interpolate,values){void 0===values&&(values=interpolate,interpolate=interpolate$1);for(var i$jscomp$0=0,n=values.length-1,v=values[0],I=Array(0>n?0:n);i$jscomp$0<n;)I[i$jscomp$0]=interpolate(v,v=values[++i$jscomp$0]);return function(t){var i=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return I[i](t-i)}}function constants(x){return function(){return x}}function number$1(x){return+x}function identity$2(x){return x}function normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:
constants(isNaN(b)?NaN:.5)}function clamper(a,b){if(a>b){var t=a;a=b;b=t}return function(x){return Math.max(a,Math.min(b,x))}}function bimap(domain,range,interpolate){var d0=domain[0];domain=domain[1];var r0=range[0];range=range[1];domain<d0?(d0=normalize(domain,d0),r0=interpolate(range,r0)):(d0=normalize(d0,domain),r0=interpolate(r0,range));return function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=Array(j),r=Array(j),i$jscomp$0=
-1;domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());for(;++i$jscomp$0<j;)d[i$jscomp$0]=normalize(domain[i$jscomp$0],domain[i$jscomp$0+1]),r[i$jscomp$0]=interpolate(range[i$jscomp$0],range[i$jscomp$0+1]);return function(x){var i=bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function copy$1(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer$2(){function rescale(){var n=
Math.min(domain.length,range.length);clamp!==identity$2&&(clamp=clamper(domain[0],domain[n-1]));piecewise=2<n?polymap:bimap;output=input=null;return scale}function scale(x){return null==x||isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate)))(transform(clamp(x)))}var domain=unit,range=unit,interpolate=interpolate$1,transform,untransform,unknown,clamp=identity$2,piecewise,output,input;scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,
domain.map(transform),interpolateNumber)))(y)))};scale.domain=function(_){return arguments.length?(domain=Array.from(_,number$1),rescale()):domain.slice()};scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()};scale.rangeRound=function(_){return range=Array.from(_),interpolate=interpolateRound,rescale()};scale.clamp=function(_){return arguments.length?(clamp=_?!0:identity$2,rescale()):clamp!==identity$2};scale.interpolate=function(_){return arguments.length?
(interpolate=_,rescale()):interpolate};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};return function(t,u){transform=t;untransform=u;return rescale()}}function formatDecimalParts(x,p){if(0>(p=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e")))return null;var coefficient=x.slice(0,p);return[1<coefficient.length?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(p+1)]}function exponent$jscomp$0(x){return x=formatDecimalParts(Math.abs(x)),x?x[1]:NaN}function formatGroup(grouping,
thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;0<i&&0<g;){length+g+1>width&&(g=Math.max(1,width-length));t.push(value.substring(i-=g,i+g));if((length+=g+1)>width)break;g=grouping[j=(j+1)%grouping.length]}return t.reverse().join(thousands)}}function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,function(i){return numerals[+i]})}}function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw Error("invalid format: "+
specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"";this.align=void 0===specifier.align?"\x3e":specifier.align+"";this.sign=void 0===specifier.sign?"-":specifier.sign+"";this.symbol=void 0===specifier.symbol?"":specifier.symbol+"";this.zero=
!!specifier.zero;this.width=void 0===specifier.width?void 0:+specifier.width;this.comma=!!specifier.comma;this.precision=void 0===specifier.precision?void 0:+specifier.precision;this.trim=!!specifier.trim;this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){p=formatDecimalParts(x,p);if(!p)return x+"";x=p[0];p=p[1];return 0>p?"0."+Array(-p).join("0")+x:x.length>p+1?x.slice(0,p+1)+"."+x.slice(p+1):x+Array(p-x.length+2).join("0")}function identity$1(x){return x}function formatLocale$1(locale){function newFormat(specifier){function format(value){var valuePrefix=
prefix,valueSuffix=suffix,n,c;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{value=+value;var i=0>value||0>1/value;value=isNaN(value)?nan:formatType(Math.abs(value),precision);if(trim){var n$jscomp$0=value.length,i$jscomp$0=1,i0=-1;a:for(;i$jscomp$0<n$jscomp$0;++i$jscomp$0)switch(value[i$jscomp$0]){case ".":i0=n=i$jscomp$0;break;case "0":0===i0&&(i0=i$jscomp$0);n=i$jscomp$0;break;default:if(!+value[i$jscomp$0])break a;0<i0&&(i0=0)}value=0<i0?value.slice(0,i0)+value.slice(n+
1):value}i&&0===+value&&"+"!==sign&&(i=!1);valuePrefix=(i?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix;valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(i&&"("===sign?")":"");if(maybeSuffix)for(i=-1,n=value.length;++i<n;)if(c=value.charCodeAt(i),48>c||57<c){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix;value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,Infinity));c=valuePrefix.length+value.length+valueSuffix.length;i=
c<width?Array(width-c+1).join(fill):"";comma&&zero&&(value=group(i+value,i.length?width-valueSuffix.length:Infinity),i="");switch(align){case "\x3c":value=valuePrefix+value+valueSuffix+i;break;case "\x3d":value=valuePrefix+i+value+valueSuffix;break;case "^":value=i.slice(0,c=i.length>>1)+valuePrefix+value+valueSuffix+i.slice(c);break;default:value=i+valuePrefix+value+valueSuffix}return numerals(value)}specifier=formatSpecifier(specifier);var fill=specifier.fill,align=specifier.align,sign=specifier.sign,
symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g");if(zero||"0"===fill&&"\x3d"===align)zero=!0,fill="0",align="\x3d";var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=
formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision));format.toString=function(){return specifier+""};return format}var group=void 0===locale.grouping||void 0===locale.thousands?identity$1:formatGroup(map$1.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+
"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?identity$1:formatNumerals(map$1.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"âˆ’":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";return{format:newFormat,formatPrefix:function(specifier,value$jscomp$0){var f=newFormat((specifier=formatSpecifier(specifier),specifier.type="f",specifier));specifier=3*Math.max(-8,Math.min(8,Math.floor(exponent$jscomp$0(value$jscomp$0)/
3)));var k=Math.pow(10,-specifier),prefix=prefixes[8+specifier/3];return function(value){return f(k*value)+prefix}}}}function tickFormat$1(start,stop,count,specifier){count=tickStep(start,stop,count);specifier=formatSpecifier(null==specifier?",f":specifier);switch(specifier.type){case "s":start=Math.max(Math.abs(start),Math.abs(stop));if(stop=null==specifier.precision){var precision=isNaN;count=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent$jscomp$0(start)/3)))-exponent$jscomp$0(Math.abs(count)));
stop=!precision(precision=count)}stop&&(specifier.precision=precision);return formatPrefix(specifier,start);case "":case "e":case "g":case "p":case "r":var JSCompiler_temp;if(JSCompiler_temp=null==specifier.precision)precision=isNaN,start=Math.max(Math.abs(start),Math.abs(stop)),count=Math.abs(count),start=Math.abs(start)-count,count=Math.max(0,exponent$jscomp$0(start)-exponent$jscomp$0(count))+1,JSCompiler_temp=!precision(precision=count);JSCompiler_temp&&(specifier.precision=precision-("e"===specifier.type));
break;case "f":case "%":null!=specifier.precision||isNaN(precision=Math.max(0,-exponent$jscomp$0(Math.abs(count))))||(specifier.precision=precision-2*("%"===specifier.type))}return format$1(specifier)}function linearish(scale){var domain=scale.domain;scale.ticks=function(count){var d=domain();return ticks(d[0],d[d.length-1],null==count?10:count)};scale.tickFormat=function(count,specifier){var d=domain();return tickFormat$1(d[0],d[d.length-1],null==count?10:count,specifier)};scale.nice=function(count){null==
count&&(count=10);var d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1],maxIter=10;if(stop<start){var step=start;start=stop;stop=step;step=i0;i0=i1;i1=step}for(;0<maxIter--;){step=tickIncrement(start,stop,count);if(step===prestep)return d[i0]=start,d[i1]=stop,domain(d);if(0<step)start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step;else if(0>step)start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step;else break;var prestep=step}return scale};return scale}function linear(){var scale=
transformer$2()(identity$2,identity$2);scale.copy=function(){return copy$1(scale,linear())};initRange.apply(scale,arguments);return linearish(scale)}function identity(domain){function scale(x){return null==x||isNaN(x=+x)?unknown:x}var unknown;scale.invert=scale;scale.domain=scale.range=function(_){return arguments.length?(domain=Array.from(_,number$1),scale):domain.slice()};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.copy=function(){return identity(domain).unknown(unknown)};
domain=arguments.length?Array.from(domain,number$1):[0,1];return linearish(scale)}function nice(domain,interval){domain=domain.slice();var i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1];if(x1<x0){var t=i0;i0=i1;i1=t;t=x0;x0=x1;x1=t}domain[i0]=interval.floor(x0);domain[i1]=interval.ceil(x1);return domain}function transformLog(x){return Math.log(x)}function transformExp(x){return Math.exp(x)}function transformLogn(x){return-Math.log(-x)}function transformExpn(x){return-Math.exp(-x)}function pow10(x){return isFinite(x)?
+("1e"+x):0>x?0:x}function powp(base){return 10===base?pow10:base===Math.E?Math.exp:x=>Math.pow(base,x)}function logp(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),x=>Math.log(x)/base)}function reflect(f){return(x,k)=>-f(-x,k)}function loggish(transform){function rescale(){logs=logp(base);pows=powp(base);0>domain()[0]?(logs=reflect(logs),pows=reflect(pows),transform(transformLogn,transformExpn)):transform(transformLog,transformExp);return scale}
const scale=transform(transformLog,transformExp),domain=scale.domain;let base=10,logs,pows;scale.base=function(_){return arguments.length?(base=+_,rescale()):base};scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()};scale.ticks=count=>{var d=domain();let u=d[0];d=d[d.length-1];const r=d<u;r&&([u,d]=[d,u]);let i=logs(u),j=logs(d),t;const n=null==count?10:+count;let z=[];if(!(base%1)&&j-i<n){i=Math.floor(i);j=Math.ceil(j);if(0<u)for(;i<=j;++i)for(count=1;count<base;++count){if(t=
0>i?count/pows(-i):count*pows(i),!(t<u)){if(t>d)break;z.push(t)}}else for(;i<=j;++i)for(count=base-1;1<=count;--count)if(t=0<i?count/pows(-i):count*pows(i),!(t<u)){if(t>d)break;z.push(t)}2*z.length<n&&(z=ticks(u,d,n))}else z=ticks(i,j,Math.min(j-i,n)).map(pows);return r?z.reverse():z};scale.tickFormat=(count,specifier)=>{null==count&&(count=10);null==specifier&&(specifier=10===base?"s":",");"function"!==typeof specifier&&(base%1||null!=(specifier=formatSpecifier(specifier)).precision||(specifier.trim=
!0),specifier=format$1(specifier));if(Infinity===count)return specifier;const k=Math.max(1,base*count/scale.ticks().length);return d=>{let i=d/pows(Math.round(logs(d)));i*base<base-.5&&(i*=base);return i<=k?specifier(d):""}};scale.nice=()=>domain(nice(domain(),{floor:x=>pows(Math.floor(logs(x))),ceil:x=>pows(Math.ceil(logs(x)))}));return scale}function log(){const scale=loggish(transformer$2()).domain([1,10]);scale.copy=()=>copy$1(scale,log()).base(scale.base());initRange.apply(scale,arguments);return scale}
function transformSymlog(c){return function(x){return Math.sign(x)*Math.log1p(Math.abs(x/c))}}function transformSymexp(c){return function(x){return Math.sign(x)*Math.expm1(Math.abs(x))*c}}function symlogish(transform){var c=1,scale=transform(transformSymlog(c),transformSymexp(c));scale.constant=function(_){return arguments.length?transform(transformSymlog(c=+_),transformSymexp(c)):c};return linearish(scale)}function symlog(){var scale=symlogish(transformer$2());scale.copy=function(){return copy$1(scale,
symlog()).constant(scale.constant())};return initRange.apply(scale,arguments)}function transformPow(exponent){return function(x){return 0>x?-Math.pow(-x,exponent):Math.pow(x,exponent)}}function transformSqrt(x){return 0>x?-Math.sqrt(-x):Math.sqrt(x)}function transformSquare(x){return 0>x?-x*x:x*x}function powish(transform){var scale=transform(identity$2,identity$2),exponent=1;scale.exponent=function(_){return arguments.length?(exponent=+_,1===exponent?transform(identity$2,identity$2):.5===exponent?
transform(transformSqrt,transformSquare):transform(transformPow(exponent),transformPow(1/exponent))):exponent};return linearish(scale)}function pow(){var scale=powish(transformer$2());scale.copy=function(){return copy$1(scale,pow()).exponent(scale.exponent())};initRange.apply(scale,arguments);return scale}function quantile(){function rescale(){var i=0,n=Math.max(1,range.length);for(thresholds=Array(n-1);++i<n;)thresholds[i-1]=quantileSorted(domain,i/n);return scale}function scale(x){return null==
x||isNaN(x=+x)?unknown:range[bisect(thresholds,x)]}var domain=[],range=[],thresholds=[],unknown;scale.invertExtent=function(y){y=range.indexOf(y);return 0>y?[NaN,NaN]:[0<y?thresholds[y-1]:domain[0],y<thresholds.length?thresholds[y]:domain[domain.length-1]]};scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(let d of _)null==d||isNaN(d=+d)||domain.push(d);domain.sort(ascending$1);return rescale()};scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):
range.slice()};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.quantiles=function(){return thresholds.slice()};scale.copy=function(){return quantile().domain(domain).range(range).unknown(unknown)};return initRange.apply(scale,arguments)}function quantize(){function scale(x){return null!=x&&x<=x?range[bisect(domain,x,0,n)]:unknown}function rescale(){var i=-1;for(domain=Array(n);++i<n;)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}var x0=0,x1=1,n=1,domain=[.5],
range=[0,1],unknown;scale.domain=function(_){return arguments.length?([x0,x1]=_,x0=+x0,x1=+x1,rescale()):[x0,x1]};scale.range=function(_){return arguments.length?(n=(range=Array.from(_)).length-1,rescale()):range.slice()};scale.invertExtent=function(y){y=range.indexOf(y);return 0>y?[NaN,NaN]:1>y?[x0,domain[0]]:y>=n?[domain[n-1],x1]:[domain[y-1],domain[y]]};scale.unknown=function(_){return arguments.length?(unknown=_,scale):scale};scale.thresholds=function(){return domain.slice()};scale.copy=function(){return quantize().domain([x0,
x1]).range(range).unknown(unknown)};return initRange.apply(linearish(scale),arguments)}function threshold(){function scale(x){return null!=x&&x<=x?range[bisect(domain,x,0,n)]:unknown}var domain=[.5],range=[0,1],unknown,n=1;scale.domain=function(_){return arguments.length?(domain=Array.from(_),n=Math.min(domain.length,range.length-1),scale):domain.slice()};scale.range=function(_){return arguments.length?(range=Array.from(_),n=Math.min(domain.length,range.length-1),scale):range.slice()};scale.invertExtent=
function(y){y=range.indexOf(y);return[domain[y-1],domain[y]]};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.copy=function(){return threshold().domain(domain).range(range).unknown(unknown)};return initRange.apply(scale,arguments)}function newInterval(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}interval.floor=function(date){return floori(date=new Date(+date)),date};interval.ceil=function(date){return floori(date=
new Date(date-1)),offseti(date,1),floori(date),date};interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1};interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date};interval.range=function(start,stop,step){var range=[],previous;start=interval.ceil(start);step=null==step?1:Math.floor(step);if(!(start<stop&&0<step))return range;do range.push(previous=new Date(+start)),offseti(start,step),floori(start);
while(previous<start&&start<stop);return range};interval.filter=function(test){return newInterval(function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)},function(date,step){if(date>=date)if(0>step)for(;0>=++step;)for(;offseti(date,-1),!test(date););else for(;0<=--step;)for(;offseti(date,1),!test(date););})};count&&(interval.count=function(start,end){t0$jscomp$0.setTime(+start);t1$jscomp$0.setTime(+end);floori(t0$jscomp$0);floori(t1$jscomp$0);return Math.floor(count(t0$jscomp$0,
t1$jscomp$0))},interval.every=function(step){step=Math.floor(step);return isFinite(step)&&0<step?1<step?interval.filter(field?function(d){return 0===field(d)%step}:function(d){return 0===interval.count(0,d)%step}):interval:null});return interval}function weekday(i){return newInterval(function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7);date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+7*step)},function(start,end){return(end-start-6E4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/
durationWeek})}function utcWeekday(i){return newInterval(function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+7*step)},function(start,end){return(end-start)/durationWeek})}function ticker(year,month,week,day,hour,minute){function tickInterval(start,stop,count){const target=Math.abs(stop-start)/count,i=bisector(([,,step])=>step).right(tickIntervals,target);if(i===tickIntervals.length)return year.every(tickStep(start/
durationYear,stop/durationYear,count));if(0===i)return millisecond$1.every(Math.max(tickStep(start,stop,count),1));const [t,step$jscomp$0]=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i];return t.every(step$jscomp$0)}const tickIntervals=[[utcSecond,1,1E3],[utcSecond,5,5E3],[utcSecond,15,15E3],[utcSecond,30,3E4],[minute,1,6E4],[minute,5,3E5],[minute,15,9E5],[minute,30,18E5],[hour,1,36E5],[hour,3,108E5],[hour,6,216E5],[hour,12,432E5],[day,1,864E5],[day,2,1728E5],[week,1,
durationWeek],[month,1,durationMonth],[month,3,3*durationMonth],[year,1,durationYear]];return[function(start,stop,count){const reverse=stop<start;reverse&&([start,stop]=[stop,start]);start=(count=count&&"function"===typeof count.range?count:tickInterval(start,stop,count))?count.range(start,+stop+1):[];return reverse?start.reverse():start},tickInterval]}function localDate(d){if(0<=d.y&&100>d.y){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);date.setFullYear(d.y);return date}return new Date(d.y,d.m,
d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&100>d.y){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));date.setUTCFullYear(d.y);return date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y,m,d,H:0,M:0,S:0,L:0}}function formatLocale(locale){function newFormat(specifier,formats){return function(date){var string=[],i=-1,j=0,n=specifier.length,c,format;for(date instanceof Date||(date=new Date(+date));++i<n;)if(37===specifier.charCodeAt(i)){string.push(specifier.slice(j,
i));null!=(j=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):j="e"===c?" ":"0";if(format=formats[c])c=format(date,j);string.push(c);j=i+1}string.push(specifier.slice(j,i));return string.join("")}}function newParse(specifier,Z){return function(string){var d=newDate(1900,void 0,1);if(parseSpecifier(d,specifier,string+="",0)!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1E3*d.s+("L"in d?d.L:0));!Z||"Z"in d||(d.Z=0);"p"in d&&(d.H=d.H%12+12*d.p);void 0===
d.m&&(d.m="q"in d?d.q:0);if("V"in d){if(1>d.V||53<d.V)return null;"w"in d||(d.w=1);if("Z"in d){string=utcDate(newDate(d.y,0,1));var day=string.getUTCDay();string=4<day||0===day?utcMonday.ceil(string):utcMonday(string);string=utcDay$1.offset(string,7*(d.V-1));d.y=string.getUTCFullYear();d.m=string.getUTCMonth();d.d=string.getUTCDate()+(d.w+6)%7}else string=localDate(newDate(d.y,0,1)),day=string.getDay(),string=4<day||0===day?monday.ceil(string):monday(string),string=timeDay.offset(string,7*(d.V-1)),
d.y=string.getFullYear(),d.m=string.getMonth(),d.d=string.getDate()+(d.w+6)%7}else if("W"in d||"U"in d)"w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7;return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):localDate(d)}}function parseSpecifier(d,specifier,string,j){for(var i=0,n=specifier.length,m=string.length,c;i<n;){if(j>=m)return-1;c=specifier.charCodeAt(i++);
if(37===c){if(c=specifier.charAt(i++),c=parses[c in pads?specifier.charAt(i++):c],!c||0>(j=c(d,string,j)))return-1}else if(c!=string.charCodeAt(j++))return-1}return j}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),
weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats$jscomp$0={a:function(d){return locale_shortWeekdays[d.getDay()]},A:function(d){return locale_weekdays[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},
c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(d){return locale_periods[+(12<=d.getHours())]},q:function(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,
x:null,X:null,y:formatYear$jscomp$0,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function(d){return locale_shortWeekdays[d.getUTCDay()]},A:function(d){return locale_weekdays[d.getUTCDay()]},b:function(d){return locale_shortMonths[d.getUTCMonth()]},B:function(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,
m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(d){return locale_periods[+(12<=d.getUTCHours())]},q:function(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function(d,string,i){return(string=shortWeekdayRe.exec(string.slice(i)))?
(d.w=shortWeekdayLookup.get(string[0].toLowerCase()),i+string[0].length):-1},A:function(d,string,i){return(string=weekdayRe.exec(string.slice(i)))?(d.w=weekdayLookup.get(string[0].toLowerCase()),i+string[0].length):-1},b:function(d,string,i){return(string=shortMonthRe.exec(string.slice(i)))?(d.m=shortMonthLookup.get(string[0].toLowerCase()),i+string[0].length):-1},B:function(d,string,i){return(string=monthRe.exec(string.slice(i)))?(d.m=monthLookup.get(string[0].toLowerCase()),i+string[0].length):
-1},c:function(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(d,string,i){return(string=periodRe.exec(string.slice(i)))?(d.p=periodLookup.get(string[0].toLowerCase()),i+string[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,
U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};formats$jscomp$0.x=newFormat(locale_date,formats$jscomp$0);formats$jscomp$0.X=newFormat(locale_time,formats$jscomp$0);formats$jscomp$0.c=newFormat(locale_dateTime,formats$jscomp$0);utcFormats.x=newFormat(locale_date,
utcFormats);utcFormats.X=newFormat(locale_time,utcFormats);utcFormats.c=newFormat(locale_dateTime,utcFormats);return{format:function(specifier){var f=newFormat(specifier+="",formats$jscomp$0);f.toString=function(){return specifier};return f},parse:function(specifier){var p=newParse(specifier+="",!1);p.toString=function(){return specifier};return p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);f.toString=function(){return specifier};return f},utcParse:function(specifier){var p=
newParse(specifier+="",!0);p.toString=function(){return specifier};return p}}}function pad(value,fill,width){var sign=0>value?"-":"";value=(sign?-value:value)+"";var length=value.length;return sign+(length<width?Array(width-length+1).join(fill)+value:value)}function requote(s){return s.replace(requoteRe,"\\$\x26")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){return new Map(names.map((name,i)=>[name.toLowerCase(),i]))}function parseWeekdayNumberSunday(d,
string,i){return(string=numberRe.exec(string.slice(i,i+1)))?(d.w=+string[0],i+string[0].length):-1}function parseWeekdayNumberMonday(d,string,i){return(string=numberRe.exec(string.slice(i,i+1)))?(d.u=+string[0],i+string[0].length):-1}function parseWeekNumberSunday(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.U=+string[0],i+string[0].length):-1}function parseWeekNumberISO(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.V=+string[0],i+string[0].length):-1}function parseWeekNumberMonday(d,
string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.W=+string[0],i+string[0].length):-1}function parseFullYear(d,string,i){return(string=numberRe.exec(string.slice(i,i+4)))?(d.y=+string[0],i+string[0].length):-1}function parseYear(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.y=+string[0]+(68<+string[0]?1900:2E3),i+string[0].length):-1}function parseZone(d,string,i){return(string=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6)))?(d.Z=string[1]?0:-(string[2]+(string[3]||
"00")),i+string[0].length):-1}function parseQuarter(d,string,i){return(string=numberRe.exec(string.slice(i,i+1)))?(d.q=3*string[0]-3,i+string[0].length):-1}function parseMonthNumber(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.m=string[0]-1,i+string[0].length):-1}function parseDayOfMonth(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.d=+string[0],i+string[0].length):-1}function parseDayOfYear(d,string,i){return(string=numberRe.exec(string.slice(i,i+3)))?(d.m=
0,d.d=+string[0],i+string[0].length):-1}function parseHour24(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.H=+string[0],i+string[0].length):-1}function parseMinutes(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.M=+string[0],i+string[0].length):-1}function parseSeconds(d,string,i){return(string=numberRe.exec(string.slice(i,i+2)))?(d.S=+string[0],i+string[0].length):-1}function parseMilliseconds(d,string,i){return(string=numberRe.exec(string.slice(i,i+3)))?(d.L=
+string[0],i+string[0].length):-1}function parseMicroseconds(d,string,i){return(string=numberRe.exec(string.slice(i,i+6)))?(d.L=Math.floor(string[0]/1E3),i+string[0].length):-1}function parseLiteralPercent(d,string,i){return(d=percentRe.exec(string.slice(i,i+1)))?i+d[0].length:-1}function parseUnixTimestamp(d,string,i){return(string=numberRe.exec(string.slice(i)))?(d.Q=+string[0],i+string[0].length):-1}function parseUnixTimestampSeconds(d,string,i){return(string=numberRe.exec(string.slice(i)))?(d.s=
+string[0],i+string[0].length):-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+timeDay.count(timeYear(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,
p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){d=d.getDay();return 0===d?7:d}function formatWeekNumberSunday(d,p){return pad(sunday.count(timeYear(d)-1,d),p,2)}function dISO(d){var day=d.getDay();return 4<=day||0===day?thursday(d):thursday.ceil(d)}function formatWeekNumberISO(d,p){d=dISO(d);return pad(thursday.count(timeYear(d),d)+(4===timeYear(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}
function formatWeekNumberMonday(d,p){return pad(monday.count(timeYear(d)-1,d),p,2)}function formatYear$jscomp$0(d,p){return pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){d=dISO(d);return pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1E4,p,4)}function formatFullYearISO(d,p){var day=d.getDay();d=4<=day||0===day?thursday(d):thursday.ceil(d);return pad(d.getFullYear()%1E4,p,4)}function formatZone(d){d=d.getTimezoneOffset();return(0<d?"-":(d*=-1,"+"))+
pad(d/60|0,"0",2)+pad(d%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+utcDay$1.count(utcYear$1(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+
1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){d=d.getUTCDay();return 0===d?7:d}function formatUTCWeekNumberSunday(d,p){return pad(utcSunday.count(utcYear$1(d)-1,d),p,2)}function UTCdISO(d){var day=d.getUTCDay();return 4<=day||0===day?utcThursday(d):utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){d=UTCdISO(d);return pad(utcThursday.count(utcYear$1(d),d)+(4===
utcYear$1(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(utcMonday.count(utcYear$1(d)-1,d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){d=UTCdISO(d);return pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1E4,p,4)}function formatUTCFullYearISO(d,p){var day=d.getUTCDay();d=4<=day||0===day?utcThursday(d):utcThursday.ceil(d);
return pad(d.getUTCFullYear()%1E4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1E3)}function date$jscomp$0(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format){function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?
formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}var scale=transformer$2()(identity$2,identity$2),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y");scale.invert=function(y){return new Date(invert(y))};
scale.domain=function(_){return arguments.length?domain(Array.from(_,number)):domain().map(date$jscomp$0)};scale.ticks=function(interval){var d=domain();return ticks(d[0],d[d.length-1],null==interval?10:interval)};scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)};scale.nice=function(interval){var d=domain();interval&&"function"===typeof interval.range||(interval=tickInterval(d[0],d[d.length-1],null==interval?10:interval));return interval?domain(nice(d,
interval)):scale};scale.copy=function(){return copy$1(scale,calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format))};return scale}function transformer$1(){function scale(x){return null==x||isNaN(x=+x)?unknown:interpolator(0===k10?.5:(x=(transform(x)-t0)*k10,clamp?Math.max(0,Math.min(1,x)):x))}function range(interpolate){return function(_){var r0,r1;return arguments.length?([r0,r1]=_,interpolator=interpolate(r0,r1),scale):[interpolator(0),interpolator(1)]}}var x0=0,x1=1,t0,t1,k10,
transform,interpolator=identity$2,clamp=!1,unknown;scale.domain=function(_){return arguments.length?([x0,x1]=_,t0=transform(x0=+x0),t1=transform(x1=+x1),k10=t0===t1?0:1/(t1-t0),scale):[x0,x1]};scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp};scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator};scale.range=range(interpolate$1);scale.rangeRound=range(interpolateRound);scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};
return function(t){transform=t;t0=t(x0);t1=t(x1);k10=t0===t1?0:1/(t1-t0);return scale}}function copy$jscomp$0(source,target){return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function sequential(){var scale=linearish(transformer$1()(identity$2));scale.copy=function(){return copy$jscomp$0(scale,sequential())};return initInterpolator.apply(scale,arguments)}function sequentialLog(){var scale=loggish(transformer$1()).domain([1,10]);
scale.copy=function(){return copy$jscomp$0(scale,sequentialLog()).base(scale.base())};return initInterpolator.apply(scale,arguments)}function sequentialSymlog(){var scale=symlogish(transformer$1());scale.copy=function(){return copy$jscomp$0(scale,sequentialSymlog()).constant(scale.constant())};return initInterpolator.apply(scale,arguments)}function sequentialPow(){var scale=powish(transformer$1());scale.copy=function(){return copy$jscomp$0(scale,sequentialPow()).exponent(scale.exponent())};return initInterpolator.apply(scale,
arguments)}function transformer(){function scale(x){return isNaN(x=+x)?unknown:(x=.5+((x=+transform(x))-t1)*(s*x<s*t1?k10:k21),interpolator(clamp?Math.max(0,Math.min(1,x)):x))}function range(interpolate){return function(_){var r0,r1,r2;return arguments.length?([r0,r1,r2]=_,interpolator=piecewise(interpolate,[r0,r1,r2]),scale):[interpolator(0),interpolator(.5),interpolator(1)]}}var x0=0,x1=.5,x2=1,s=1,t0,t1,t2,k10,k21,interpolator=identity$2,transform,clamp=!1,unknown;scale.domain=function(_){return arguments.length?
([x0,x1,x2]=_,t0=transform(x0=+x0),t1=transform(x1=+x1),t2=transform(x2=+x2),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),s=t1<t0?-1:1,scale):[x0,x1,x2]};scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp};scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator};scale.range=range(interpolate$1);scale.rangeRound=range(interpolateRound);scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};return function(t){transform=
t;t0=t(x0);t1=t(x1);t2=t(x2);k10=t0===t1?0:.5/(t1-t0);k21=t1===t2?0:.5/(t2-t1);s=t1<t0?-1:1;return scale}}function diverging(){var scale=linearish(transformer()(identity$2));scale.copy=function(){return copy$jscomp$0(scale,diverging())};return initInterpolator.apply(scale,arguments)}function divergingLog(){var scale=loggish(transformer()).domain([.1,1,10]);scale.copy=function(){return copy$jscomp$0(scale,divergingLog()).base(scale.base())};return initInterpolator.apply(scale,arguments)}function divergingSymlog(){var scale=
symlogish(transformer());scale.copy=function(){return copy$jscomp$0(scale,divergingSymlog()).constant(scale.constant())};return initInterpolator.apply(scale,arguments)}function divergingPow(){var scale=powish(transformer());scale.copy=function(){return copy$jscomp$0(scale,divergingPow()).exponent(scale.exponent())};return initInterpolator.apply(scale,arguments)}function band(){function rescale(){var n=domain().length;const reverse=range$1[1]<range$1[0],stop=range$1[1-reverse],space=bandSpace(n,paddingInner,
paddingOuter);let start=range$1[reverse-0];step=(stop-start)/(space||1);round&&(step=Math.floor(step));start+=(stop-start-step*(n-paddingInner))*align;bandwidth=step*(1-paddingInner);round&&(start=Math.round(start),bandwidth=Math.round(bandwidth));n=range$jscomp$0(n).map(i=>start+step*i);return ordinalRange(reverse?n.reverse():n)}const scale=ordinal().unknown(void 0),domain=scale.domain,ordinalRange=scale.range;let range$1=[0,1],step,bandwidth,round=!1,paddingInner=0,paddingOuter=0,align=.5;delete scale.unknown;
scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()};scale.range=function(_){return arguments.length?(range$1=[+_[0],+_[1]],rescale()):range$1.slice()};scale.rangeRound=function(_){range$1=[+_[0],+_[1]];round=!0;return rescale()};scale.bandwidth=function(){return bandwidth};scale.step=function(){return step};scale.round=function(_){return arguments.length?(round=!!_,rescale()):round};scale.padding=function(_){return arguments.length?(paddingInner=paddingOuter=Math.max(0,
Math.min(1,_)),rescale()):paddingInner};scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.max(0,Math.min(1,_)),rescale()):paddingInner};scale.paddingOuter=function(_){return arguments.length?(paddingOuter=Math.max(0,Math.min(1,_)),rescale()):paddingOuter};scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align};scale.invertRange=function(_){if(null!=_[0]&&null!=_[1]){var reverse=range$1[1]<range$1[0],values=reverse?ordinalRange().reverse():
ordinalRange(),n=values.length-1,lo=+_[0],hi=+_[1];if(lo===lo&&hi===hi){if(hi<lo){var t=lo;lo=hi;hi=t}if(!(hi<values[0]||lo>range$1[1-reverse]))return _=Math.max(0,bisectRight(values,lo)-1),hi=lo===hi?_:bisectRight(values,hi)-1,lo-values[_]>bandwidth+1E-10&&++_,reverse&&(t=_,_=n-hi,hi=n-t),_>hi?void 0:domain().slice(_,hi+1)}}};scale.invert=function(_){return(_=scale.invertRange([_,_]))?_[0]:_};scale.copy=function(){return band().domain(domain()).range(range$1).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)};
return rescale()}function pointish(scale){const copy=scale.copy;scale.padding=scale.paddingOuter;delete scale.paddingInner;scale.copy=function(){return pointish(copy())};return scale}function scaleBinOrdinal(){function scale(x){return null==x||x!==x?void 0:range[(bisect(domain,x)-1)%range.length]}let domain=[],range=[];scale.domain=function(_){return arguments.length?(domain=map.call(_,vegaUtil.toNumber),scale):domain.slice()};scale.range=function(_){return arguments.length?(range=slice.call(_),scale):
range.slice()};scale.tickFormat=function(count,specifier){return tickFormat$1(domain[0],vegaUtil.peek(domain),null==count?10:count,specifier)};scale.copy=function(){return scaleBinOrdinal().domain(scale.domain()).range(scale.range())};return scale}function create(type,constructor,metadata){const ctr=function(){const s=constructor();s.invertRange||(s.invertRange=s.invert?invertRange(s):s.invertExtent?invertRangeExtent(s):void 0);s.type=type;return s};ctr.metadata=vegaUtil.toSet(vegaUtil.array(metadata));
return ctr}function scale$jscomp$0(type,scale,metadata){return 1<arguments.length?(scales[type]=create(type,scale,metadata),this):isValidScaleType(type)?scales[type]:void 0}function isValidScaleType(type){return vegaUtil.hasOwnProperty(scales,type)}function hasType(key,type){return(key=scales[key])&&key.metadata[type]}function isDiscrete(key){return hasType(key,"discrete")}function isDiscretizing(key){return hasType(key,"discretizing")}function isLogarithmic(key){return hasType(key,"log")}function isTemporal(key){return hasType(key,
"temporal")}function interpolateColors(colors,type,gamma){return piecewise(interpolate(type||"rgb",gamma),colors)}function interpolate(type,gamma){type=$[method(type)];return null!=gamma&&type&&type.gamma?type.gamma(gamma):type}function method(type){return"interpolate"+type.toLowerCase().split("-").map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function colors(palette){const n=palette.length/6|0,c=Array(n);for(let i=0;i<n;)c[i]="#"+palette.slice(6*i,6*++i);return c}function apply(_,f){for(const k in _)scheme$jscomp$0(k,
f(_[k]))}function scheme$jscomp$0(name,scheme){name=name&&name.toLowerCase();return 1<arguments.length?(schemes[name]=scheme,this):schemes[name]}function validTicks(scale,ticks,count){var range=scale.range();let lo=range[0],hi=vegaUtil.peek(range);range=ascending;lo>hi&&(range=hi,hi=lo,lo=range,range=descending);lo=Math.floor(lo);hi=Math.ceil(hi);ticks=ticks.map(v=>[v,scale(v)]).filter(_=>lo<=_[1]&&_[1]<=hi).sort(range).map(_=>_[0]);if(0<count&&1<ticks.length){for(range=[ticks[0],vegaUtil.peek(ticks)];ticks.length>
count&&3<=ticks.length;)ticks=ticks.filter((_,i)=>!(i%2));3>ticks.length&&(ticks=range)}return ticks}function tickValues(scale,count){return scale.bins?validTicks(scale,scale.bins):scale.ticks?scale.ticks(count):scale.domain()}function tickFormat(locale,scale,count,specifier,formatType,noSkip){const type=scale.type;let format=defaultFormatter;if("time"===type||"time"===formatType)format=locale.timeFormat(specifier);else if("utc"===type||"utc"===formatType)format=locale.utcFormat(specifier);else if(isLogarithmic(type)){const varfmt=
locale.formatFloat(specifier);if(noSkip||scale.bins)format=varfmt;else{const test=tickLog(scale,count,!1);format=_=>test(_)?varfmt(_):""}}else scale.tickFormat?(scale=scale.domain(),format=locale.formatSpan(scale[0],scale[scale.length-1],count,specifier)):specifier&&(format=locale.format(specifier));return format}function tickLog(scale,count,values){const ticks=tickValues(scale,count),base=scale.base(),logb=Math.log(base),k=Math.max(1,base*count/ticks.length);scale=d=>{d/=Math.pow(base,Math.round(Math.log(d)/
logb));d*base<base-.5&&(d*=base);return d<=k};return values?ticks.filter(scale):scale}function labelValues(scale,count){scale.bins?(scale=scale.bins,count=scale.slice(0,-1),count.max=vegaUtil.peek(scale),scale=count):"log"===scale.type?scale=tickLog(scale,count,!0):symbols[scale.type]?(scale=scale[symbols[scale.type]](),scale=[-Infinity].concat(scale),scale.max=Infinity):scale=tickValues(scale,count);return scale}function labelFormat(locale,scale,count,type,specifier,formatType,noSkip){if(formats$jscomp$1[scale.type]&&
"time"!==formatType&&"utc"!==formatType){count=scale[formats$jscomp$1[scale.type]]();formatType=count.length;noSkip=1<formatType?count[1]-count[0]:count[0];let i;for(i=1;i<formatType;++i)noSkip=Math.min(noSkip,count[i]-count[i-1]);locale=locale.formatSpan(0,noSkip,30,specifier)}else locale=tickFormat(locale,scale,count,specifier,formatType,noSkip);return"symbol"===type&&(symbols[scale.type]||scale.bins)?formatRange(locale):"discrete"===type?formatDiscrete(locale):formatPoint(locale)}const bisectRight=
bisector(ascending$1).right;bisector(number$2).center;var bisect=bisectRight;class InternMap extends Map{constructor(entries,key$jscomp$0=keyof){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key$jscomp$0}});if(null!=entries)for(const [key,value]of entries)this.set(key,value)}get(key){return super.get(intern_get(this,key))}has(key){return super.has(intern_get(this,key))}set(key,value){return super.set(intern_set(this,key),value)}delete(key){return super.delete(intern_delete(this,
key))}}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);const implicit=Symbol("implicit");var brighter=1/.7,reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),reRgbPercent=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),reRgbaInteger=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
reRgbaPercent=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),reHslPercent=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),reHslaPercent=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$jscomp$0,{copy:function(channels){return Object.assign(new this.constructor,this,channels)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb});define(Rgb,rgb$1,extend(Color,{brighter:function(k){k=null==
k?brighter:Math.pow(brighter,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){k=null==k?.7:Math.pow(.7,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));define(Hsl,hsl$2,extend(Color,{brighter:function(k){k=
null==k?brighter:Math.pow(brighter,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){k=null==k?.7:Math.pow(.7,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(0>this.h),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l;s=l+(.5>l?l:1-l)*s;l=2*l-s;return new Rgb(hsl2rgb(240<=h?h-240:h+120,l,s),hsl2rgb(h,l,s),hsl2rgb(120>h?h+240:h-120,l,s),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&
0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));const radians=Math.PI/180,degrees$1=180/Math.PI,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;define(Lab,lab$1,extend(Color,{brighter:function(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-18*(null==k?
1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;x=.96422*lab2xyz(x);y=1*lab2xyz(y);z=.82521*lab2xyz(z);return new Rgb(lrgb2rgb(3.1338561*x-1.6168667*y-.4906146*z),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}}));define(Hcl,hcl$2,extend(Color,{brighter:function(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,
this.c,this.l-18*(null==k?1:k),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var BC_DA=1.78277*-.29227-.1347134789;define(Cubehelix,cubehelix$2,extend(Color,{brighter:function(k){k=null==k?brighter:Math.pow(brighter,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){k=null==k?.7:Math.pow(.7,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*radians,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=
Math.cos(h);h=Math.sin(h);return new Rgb(255*(l+a*(-.14861*cosh+1.78277*h)),255*(l+a*(-.29227*cosh+-.90649*h)),255*(l+1.97294*a*cosh),this.opacity)}}));var constant=x=>()=>x,rgb=function rgbGamma(y){function rgb(start,end){var r=color((start=rgb$1(start)).r,(end=rgb$1(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){start.r=r(t);start.g=g(t);start.b=b(t);start.opacity=opacity(t);return start+""}}var color=gamma(y);rgb.gamma=rgbGamma;
return rgb}(1),rgbBasis=rgbSpline(basis$1),rgbBasisClosed=rgbSpline(basisClosed),reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g"),degrees=180/Math.PI,identity$3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},svgNode,interpolateTransformCss=interpolateTransform(function(value){value=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(value+"");return value.isIdentity?identity$3:decompose(value.a,value.b,value.c,value.d,value.e,value.f)},"px, ",
"px)","deg)"),interpolateTransformSvg=interpolateTransform(function(value){if(null==value)return identity$3;svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g"));svgNode.setAttribute("transform",value);if(!(value=svgNode.transform.baseVal.consolidate()))return identity$3;value=value.matrix;return decompose(value.a,value.b,value.c,value.d,value.e,value.f)},", ",")",")"),zoom$jscomp$0=function zoomRho(rho,rho2,rho4){function zoom(p0,p1){var ux0=p0[0],uy0=p0[1],w0=p0[2];p0=p1[2];
var dx=p1[0]-ux0,dy=p1[1]-uy0,d2=dx*dx+dy*dy;if(1E-12>d2){var S=Math.log(p0/w0)/rho;p0=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]}}else{var d1=Math.sqrt(d2);p1=(p0*p0-w0*w0+rho4*d2)/(2*w0*rho2*d1);p0=(p0*p0-w0*w0-rho4*d2)/(2*p0*rho2*d1);var r0=Math.log(Math.sqrt(p1*p1+1)-p1);S=(Math.log(Math.sqrt(p0*p0+1)-p0)-r0)/rho;p0=function(t){t*=S;var coshr0=cosh(r0),x=rho*t+r0;var JSCompiler_inline_result=((x=Math.exp(2*x))-1)/(x+1);var x$jscomp$0=r0;x=((x$jscomp$0=Math.exp(x$jscomp$0))-1/x$jscomp$0)/
2;JSCompiler_inline_result=w0/(rho2*d1)*(coshr0*JSCompiler_inline_result-x);return[ux0+JSCompiler_inline_result*dx,uy0+JSCompiler_inline_result*dy,w0*coshr0/cosh(rho*t+r0)]}}p0.duration=1E3*S*rho/Math.SQRT2;return p0}zoom.rho=function(_){_=Math.max(.001,+_);var _2=_*_;return zoomRho(_,_2,_2*_2)};return zoom}(Math.SQRT2,2,4),hsl$1=hsl(hue$1),hslLong=hsl(nogamma),hcl$1=hcl(hue$1),hclLong=hcl(nogamma),cubehelix$1=cubehelix(hue$1),cubehelixLong=cubehelix(nogamma),$=Object.freeze({__proto__:null,interpolate:interpolate$1,
interpolateArray:function(a,b){return(isNumberArray(b)?numberArray:genericArray)(a,b)},interpolateBasis:basis$1,interpolateBasisClosed:basisClosed,interpolateDate:date$1,interpolateDiscrete:function(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},interpolateHue:function(a,b){var i=hue$1(+a,+b);return function(t){t=i(t);return t-360*Math.floor(t/360)}},interpolateNumber,interpolateNumberArray:numberArray,interpolateObject:object,interpolateRound,
interpolateString:string$jscomp$0,interpolateTransformCss,interpolateTransformSvg,interpolateZoom:zoom$jscomp$0,interpolateRgb:rgb,interpolateRgbBasis:rgbBasis,interpolateRgbBasisClosed:rgbBasisClosed,interpolateHsl:hsl$1,interpolateHslLong:hslLong,interpolateLab:function(start,end){var l=nogamma((start=lab$1(start)).l,(end=lab$1(end)).l),a=nogamma(start.a,end.a),b=nogamma(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){start.l=l(t);start.a=a(t);start.b=b(t);start.opacity=
opacity(t);return start+""}},interpolateHcl:hcl$1,interpolateHclLong:hclLong,interpolateCubehelix:cubehelix$1,interpolateCubehelixLong:cubehelixLong,piecewise,quantize:function(interpolator,n){for(var samples=Array(n),i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples}}),unit=[0,1],re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;formatSpecifier.prototype=FormatSpecifier.prototype;FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+
this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var prefixExponent,formatTypes={"%":(x,p)=>(100*x).toFixed(p),b:x=>Math.round(x).toString(2),c:x=>x+"",d:function(x){return 1E21<=Math.abs(x=Math.round(x))?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:(x,p)=>x.toExponential(p),f:(x,p)=>x.toFixed(p),g:(x,p)=>x.toPrecision(p),o:x=>Math.round(x).toString(8),
p:(x,p)=>formatRounded(100*x,p),r:formatRounded,s:function(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0];d=d[1];d=d-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(d/3))))+1;var n=coefficient.length;return d===n?coefficient:d>n?coefficient+Array(d-n+1).join("0"):0<d?coefficient.slice(0,d)+"."+coefficient.slice(d):"0."+Array(1-d).join("0")+formatDecimalParts(x,Math.max(0,p+d-1))[0]},X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)},map$1=
Array.prototype.map,prefixes="y z a f p n Âµ m  k M G T P E Z Y".split(" "),locale$1,format$1,formatPrefix;(function(definition){locale$1=formatLocale$1(definition);format$1=locale$1.format;formatPrefix=locale$1.formatPrefix;return locale$1})({thousands:",",grouping:[3],currency:["$",""]});var t0$jscomp$0=new Date,t1$jscomp$0=new Date,millisecond=newInterval(function(){},function(date,step){date.setTime(+date+step)},function(start,end){return end-start});millisecond.every=function(k){k=Math.floor(k);
return isFinite(k)&&0<k?1<k?newInterval(function(date){date.setTime(Math.floor(date/k)*k)},function(date,step){date.setTime(+date+step*k)},function(start,end){return(end-start)/k}):millisecond:null};var millisecond$1=millisecond;const durationWeek=6048E5,durationMonth=2592E6,durationYear=31536E6;var utcSecond=newInterval(function(date){date.setTime(date-date.getMilliseconds())},function(date,step){date.setTime(+date+1E3*step)},function(start,end){return(end-start)/1E3},function(date){return date.getUTCSeconds()}),
timeMinute=newInterval(function(date){date.setTime(date-date.getMilliseconds()-1E3*date.getSeconds())},function(date,step){date.setTime(+date+6E4*step)},function(start,end){return(end-start)/6E4},function(date){return date.getMinutes()}),timeHour=newInterval(function(date){date.setTime(date-date.getMilliseconds()-1E3*date.getSeconds()-6E4*date.getMinutes())},function(date,step){date.setTime(+date+36E5*step)},function(start,end){return(end-start)/36E5},function(date){return date.getHours()}),timeDay=
newInterval(date=>date.setHours(0,0,0,0),(date,step)=>date.setDate(date.getDate()+step),(start,end)=>(end-start-6E4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/864E5,date=>date.getDate()-1),sunday=weekday(0),monday=weekday(1);weekday(2);weekday(3);var thursday=weekday(4);weekday(5);weekday(6);var timeMonth=newInterval(function(date){date.setDate(1);date.setHours(0,0,0,0)},function(date,step){date.setMonth(date.getMonth()+step)},function(start,end){return end.getMonth()-start.getMonth()+12*
(end.getFullYear()-start.getFullYear())},function(date){return date.getMonth()}),year$jscomp$0=newInterval(function(date){date.setMonth(0,1);date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step)},function(start,end){return end.getFullYear()-start.getFullYear()},function(date){return date.getFullYear()});year$jscomp$0.every=function(k){return isFinite(k=Math.floor(k))&&0<k?newInterval(function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k);date.setMonth(0,
1);date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step*k)}):null};var timeYear=year$jscomp$0,utcMinute$1=newInterval(function(date){date.setUTCSeconds(0,0)},function(date,step){date.setTime(+date+6E4*step)},function(start,end){return(end-start)/6E4},function(date){return date.getUTCMinutes()}),utcHour$1=newInterval(function(date){date.setUTCMinutes(0,0,0)},function(date,step){date.setTime(+date+36E5*step)},function(start,end){return(end-start)/36E5},function(date){return date.getUTCHours()}),
utcDay$1=newInterval(function(date){date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+step)},function(start,end){return(end-start)/864E5},function(date){return date.getUTCDate()-1}),utcSunday=utcWeekday(0),utcMonday=utcWeekday(1);utcWeekday(2);utcWeekday(3);var utcThursday=utcWeekday(4);utcWeekday(5);utcWeekday(6);var utcMonth$1=newInterval(function(date){date.setUTCDate(1);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCMonth(date.getUTCMonth()+step)},function(start,
end){return end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())},function(date){return date.getUTCMonth()}),utcYear=newInterval(function(date){date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)},function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()},function(date){return date.getUTCFullYear()});utcYear.every=function(k){return isFinite(k=Math.floor(k))&&0<k?newInterval(function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/
k)*k);date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)}):null};var utcYear$1=utcYear;const [utcTicks,utcTickInterval]=ticker(utcYear$1,utcMonth$1,utcSunday,utcDay$1,utcHour$1,utcMinute$1),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,sunday,timeDay,timeHour,timeMinute);var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g,locale$jscomp$0,timeFormat,utcFormat;(function(definition){locale$jscomp$0=
formatLocale(definition);timeFormat=locale$jscomp$0.format;utcFormat=locale$jscomp$0.utcFormat;return locale$jscomp$0})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
var map=Array.prototype.map;const slice=Array.prototype.slice,scales={};scale$jscomp$0("identity",identity);scale$jscomp$0("linear",linear,"continuous");scale$jscomp$0("log",log,["continuous","log"]);scale$jscomp$0("pow",pow,"continuous");scale$jscomp$0("sqrt",function(){return pow.apply(null,arguments).exponent(.5)},"continuous");scale$jscomp$0("symlog",symlog,"continuous");scale$jscomp$0("time",function(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,sunday,timeDay,
timeHour,timeMinute,utcSecond,timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);scale$jscomp$0("utc",function(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear$1,utcMonth$1,utcSunday,utcDay$1,utcHour$1,utcMinute$1,utcSecond,utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);scale$jscomp$0("sequential",sequential,["continuous","interpolating"]);scale$jscomp$0("sequential-linear",sequential,
["continuous","interpolating"]);scale$jscomp$0("sequential-log",sequentialLog,["continuous","interpolating","log"]);scale$jscomp$0("sequential-pow",sequentialPow,["continuous","interpolating"]);scale$jscomp$0("sequential-sqrt",function(){return sequentialPow.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);scale$jscomp$0("sequential-symlog",sequentialSymlog,["continuous","interpolating"]);scale$jscomp$0("diverging-linear",diverging,["continuous","interpolating"]);scale$jscomp$0("diverging-log",
divergingLog,["continuous","interpolating","log"]);scale$jscomp$0("diverging-pow",divergingPow,["continuous","interpolating"]);scale$jscomp$0("diverging-sqrt",function(){return divergingPow.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);scale$jscomp$0("diverging-symlog",divergingSymlog,["continuous","interpolating"]);scale$jscomp$0("quantile",quantile,["discretizing","quantile"]);scale$jscomp$0("quantize",quantize,"discretizing");scale$jscomp$0("threshold",threshold,"discretizing");
scale$jscomp$0("bin-ordinal",scaleBinOrdinal,["discrete","discretizing"]);scale$jscomp$0("ordinal",ordinal,"discrete");scale$jscomp$0("band",band,"discrete");scale$jscomp$0("point",function(){return pointish(band().paddingInner(1))},"discrete");const scaleProps=["clamp","base","constant","exponent"],schemes={};apply({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},colors);apply({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},_=>interpolateColors(colors(_)));const defaultFormatter=value=>vegaUtil.isArray(value)?value.map(v=>String(v)):String(value),ascending=(a,b)=>a[1]-b[1],descending=(a,b)=>b[1]-a[1],symbols={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},formats$jscomp$1={quantile:"quantiles",quantize:"domain"},
formatRange=format=>(value,index,array)=>{index=array[index+1];array=array.max;array=null!=array?array:Infinity;index=null!=index?index:array;value=Number.isFinite(value)?format(value):null;index=Number.isFinite(index)?format(index):null;return value&&index?value+" â€“ "+index:index?"\x3c "+index:"â‰¥ "+value},formatDiscrete=format=>(value,index)=>index?format(value):null,formatPoint=format=>value=>format(value);exports.Band="band";exports.BinOrdinal="bin-ordinal";exports.DiscreteLegend="discrete";exports.Diverging=
"diverging";exports.GradientLegend="gradient";exports.Identity="identity";exports.Linear="linear";exports.Log="log";exports.Ordinal="ordinal";exports.Point="point";exports.Pow="pow";exports.Quantile="quantile";exports.Quantize="quantize";exports.Sequential="sequential";exports.Sqrt="sqrt";exports.SymbolLegend="symbol";exports.Symlog="symlog";exports.Threshold="threshold";exports.Time="time";exports.UTC="utc";exports.bandSpace=bandSpace;exports.domainCaption=function(locale,scale,opt){opt=opt||{};
var max=Math.max(3,opt.maxlen||7),specifier=opt.format;const type=(opt=opt.formatType)||scale.type;vegaUtil.isString(specifier)&&isTemporal(type)&&(specifier=specifier.replace(/%a/g,"%A").replace(/%b/g,"%B"));locale=specifier||"time"!==type?specifier||"utc"!==type?labelFormat(locale,scale,5,null,specifier,opt,!0):locale.utcFormat("%A, %d %B %Y, %X UTC"):locale.timeFormat("%A, %d %B %Y, %X");if(isDiscretizing(scale.type))return max=labelValues(scale).slice(1).map(locale),scale=max.length,`${scale} boundar${1===
scale?"y":"ies"}: ${max.join(", ")}`;if(isDiscrete(scale.type))return specifier=scale.domain(),scale=specifier.length,max=scale>max?specifier.slice(0,max-2).map(locale).join(", ")+", ending with "+specifier.slice(-1).map(locale):specifier.map(locale).join(", "),`${scale} value${1===scale?"":"s"}: ${max}`;max=scale.domain();return`values from ${locale(max[0])} to ${locale(vegaUtil.peek(max))}`};exports.interpolate=interpolate;exports.interpolateColors=interpolateColors;exports.interpolateRange=function(interpolator,
range){const start=range[0],span=vegaUtil.peek(range)-start;return function(i){return interpolator(start+i*span)}};exports.isContinuous=function(key){return hasType(key,"continuous")};exports.isDiscrete=isDiscrete;exports.isDiscretizing=isDiscretizing;exports.isInterpolating=function(key){return hasType(key,"interpolating")};exports.isLogarithmic=isLogarithmic;exports.isQuantile=function(key){return hasType(key,"quantile")};exports.isTemporal=isTemporal;exports.isValidScaleType=isValidScaleType;exports.labelFormat=
labelFormat;exports.labelFraction=function(scale){var domain=scale.domain();const count=domain.length-1;let lo=+domain[0];domain=+vegaUtil.peek(domain);let span=domain-lo;"threshold"===scale.type&&(scale=count?span/count:.1,lo-=scale,domain+=scale,span=domain-lo);return value=>(value-lo)/span};exports.labelValues=labelValues;exports.quantizeInterpolator=function(interpolator,count){const samples=Array(count),n=count+1;for(let i=0;i<count;)samples[i]=interpolator(++i/n);return samples};exports.scale=
scale$jscomp$0;exports.scaleCopy=function(scale){const t=scale.type;scale=scale.copy();scale.type=t;return scale};exports.scaleFraction=function(scale$1,min,max){var delta=max-min;let t,s;return delta&&Number.isFinite(delta)?(delta=(t=scale$1.type).indexOf("-"),t=0>delta?t:t.slice(delta+1),s=scale$jscomp$0(t)().domain([min,max]).range([0,1]),scaleProps.forEach(m=>scale$1[m]?s[m](scale$1[m]()):0),s):vegaUtil.constant(.5)};exports.scaleImplicit=implicit;exports.scheme=scheme$jscomp$0;exports.tickCount=
function(scale,count,minStep){let step;vegaUtil.isNumber(count)&&(scale.bins&&(count=Math.max(count,scale.bins.length)),null!=minStep&&(count=Math.min(count,Math.floor(vegaUtil.span(scale.domain())/minStep||1))));vegaUtil.isObject(count)&&(step=count.step,count=count.interval);vegaUtil.isString(count)&&(count="time"===scale.type?vegaTime.timeInterval(count):"utc"==scale.type?vegaTime.utcInterval(count):vegaUtil.error("Only time and utc scales accept interval strings."),step&&(count=count.every(step)));
return count};exports.tickFormat=tickFormat;exports.tickValues=tickValues;exports.validTicks=validTicks;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_scale$build$vega_scale.js.map
